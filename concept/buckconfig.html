<!doctype html><html xmlns="http://www.w3.org/1999/xhtml"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns#"><script>var loc = new String(window.location); if (loc.indexOf('facebook.github.io/buck') != -1) {window.location.replace(loc.replace('facebook.github.io/buck', 'buckbuild.com'));}</script><!-- Facebook Pixel Code --><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','//connect.facebook.net/en_US/fbevents.js'); fbq('init', '1637165926500152'); fbq('track', 'PageView');</script><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1637165926500152&ev=PageView&noscript=1" /></noscript><!-- End Facebook Pixel Code --><title>Buck: .buckconfig</title><link type="image/png" rel="shortcut icon" href="/static/favicon.png" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" /><meta http-equiv="content-type" content="text/html;charset=utf-8"><link type="text/css" rel="stylesheet" href="/google-code-prettify/prettify.css" ><link type="text/css" rel="stylesheet" href="/static/buck.css"><link type="text/css" rel="stylesheet" href="/static/search.css"><link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" /><meta property="og:locale" content="en_US"><meta property="og:title" content=".buckconfig"><meta property="og:site_name" content="Buck: a build tool"><meta property="og:image" content="http://buckbuild.com/static/og.png"><meta property="og:type" content="article"><meta property="og:description" content="An optional file that contains configuration information for Buck."><meta property="fb:admins" content="584556688222168"><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-44373548-18', 'auto');
    ga('send', 'pageview');
  </script></head><body><div id="fb-root"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=584556688222168"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script><header class='topbar'><nav class='width'><a href='http://buckbuild.com/'><h1>Buck</h1></a><ul class='menu'><li class="algolia-search-wrapper"><input id="algolia-doc-search" type="search" placeholder="Search docs..." /></li><li><a href='/setup/getting_started.html'>Getting Started</a><li><a href='https://groups.google.com/forum/#!forum/buck-build'>Group</a><li><a href='/javadoc/'>API</a><li><a href='https://github.com/facebook/buck'>GitHub</a></ul></nav></header><section class='content'><div class='width'><article><h1>.buckconfig</h1><div class="overview"><p>The root of your project may contain a configuration file named <code>.buckconfig</code>. If present, Buck will read this file before executing its business logic so that any customizations specified in <code>.buckconfig</code> will take effect. This file uses the <a href="http://en.wikipedia.org/wiki/INI_file">INI file format</a>with a few extensions discussed below.<p>Although the INI format only recognizes strings as values, Buck allows fields to be parsed as a list of strings, separated by a separator character. For example, a field containing command line flags to be passed to a compiler may parse its value as a list of strings, separated by space, so that <code>-foo -bar</code> is parsed as a list of two strings, instead of a single string.<p>To ensure that any character can be encoded in a .buckconfig value, Buck allows values or part of values to be quoted by surrounding them by double quotes. Inside double quotes, escape sequences can be used to encode characters that would otherwise be problematic to use in values. The following escape sequences are supported:<table summary="Escape sequences in .buckconfig"><tr><td>\\</td><td>backslash</td></tr><tr><td>\"</td><td>double quote</td></tr><tr><td>\n</td><td>newline</td></tr><tr><td>\r</td><td>carriage return</td></tr><tr><td>\t</td><td>tab</td></tr><tr><td>\x##</td><td>unicode character with code point ## (in hex)</td></tr><tr><td>\u####</td><td>unicode character with code point #### (in hex)</td></tr><tr><td>\U########</td><td>unicode character with code point ######## (in hex)</td></tr></table><p>In addition, when a field is parsed as a list instead of a string, the separator character is only interpreted as a separator when it occurs outside double quotes. For example, if <em>flags</em> is a field being interpreted as a list of strings separated by spaces, <code>flags=-foo "-bar \u0429"</code> will result in two strings: <q>foo</q> and <q>-bar &#1065;</q>.<h2>.buckconfig.local</h2>The root of your project may also contain a second configuration file named <code>.buckconfig.local</code>. Its format is exactly the same as that of <code>.buckconfig</code>, but any definition in <code>.buckconfig.local</code> will override that of <code>.buckconfig</code>. In practice, <code>.buckconfig</code> will be a version-controlled file that contains settings that are applicable to all team members (such as standard includes for build files), whereas <code>.buckconfig.local</code> will be excluded from version control because it contains user-specific overrides (such as personal aliases).<p>If a configuration option is not found in the project's <code>.buckconfig</code>, it will fall back to a <code>.buckconfig</code> file and <code>.buckconfig.d</code> directory in your home directory. Each of those has the same format as a <code>.buckconfig</code> file but will have any settings overridden by project-specific configurations. If you have build issues, make sure that there is nothing in your <code>.buckconfig</code> or <code>.buckconfig.d</code> that could be conflicting with the project you're trying to build.<h2>Sections</h2>The following sections are recognized by Buck:<p><a href="#adb"><code>[adb]</code></a><br><a href="#alias"><code>[alias]</code></a><br><a href="#android"><code>[android]</code></a><br><a href="#apple"><code>[apple]</code></a><br><a href="#build"><code>[build]</code></a><br><a href="#buildfile"><code>[buildfile]</code></a><br><a href="#cache"><code>[cache]</code></a><br><a href="#color"><code>[color]</code></a><br><a href="#credentials"><code>[credentials]</code></a><br><a href="#cxx"><code>[cxx]</code></a><br><a href="#d"><code>[d]</code></a><br><a href="#doctor"><code>[doctor]</code></a><br><a href="#download"><code>[download]</code></a><br><a href="#go"><code>[go]</code></a><br><a href="#groovy"><code>[groovy]</code></a><br><a href="#halide"><code>[halide]</code></a><br><a href="#intellij"><code>[intellij]</code></a><br><a href="#java"><code>[java]</code></a><br><a href="#httpserver"><code>[httpserver]</code></a><br><a href="#log"><code>[log]</code></a><br><a href="#lua"><code>[lua]</code></a><br><a href="#maven_repositories"><code>[maven_repositories]</code></a><br><a href="#ndk"><code>[ndk]</code></a><br><a href="#parser"><code>[parser]</code></a><br><a href="#project"><code>[project]</code></a><br><a href="#python"><code>[python]</code></a><br><a href="#resources"><code>[resources]</code></a><br><a href="#resources_per_rule"><code>[resources_per_rule]</code></a><br><a href="#rust"><code>[rust]</code></a><br><a href="#test"><code>[test]</code></a><br><a href="#thrift"><code>[thrift]</code></a><br><a href="#tools"><code>[tools]</code></a><br><a href="#ui"><code>[ui]</code></a><br><a href="#unknown_flavors_messages"><code>[unknown_flavors_messages]</code></a><br><a href="#worker"><code>[worker]</code></a><br><h2 id="adb">[adb] <a class="inline-link" href="#adb">#</a></h2><p>This section configures adb behavior.</p><h3 id="adb.adb_restart_on_failure">adb_restart_on_failure <a class="inline-link" href="#adb.adb_restart_on_failure">#</a></h3><p>This specifies whether to restart adb on failure or not.</p><pre class="prettyprint lang-ini">[adb]
  adb_restart_on_failure = true</pre><h3 id="adb.multi_install_mode">multi_install_mode <a class="inline-link" href="#adb.multi_install_mode">#</a></h3><p>This specifies whether multi-install mode is enabled or disabled by default.</p><pre class="prettyprint lang-ini">[adb]
  multi_install_mode = false</pre><h2 id="alias">[alias] <a class="inline-link" href="#alias">#</a></h2><p><p>This section contains definitions of <a href="/concept/build_target.html">build target</a> aliases.</p><pre class="prettyprint lang-ini">
[alias]
  app     = //apps/myapp:app
  apptest = //apps/myapp:test
</pre><p>These aliases can then be used from the command line:</p><pre class="prettyprint">
$ buck build app
$ buck test apptest
</pre><p>You can also suffix aliases with flavors:</p><pre class="prettyprint">
$ buck build app#src_jar
# This will expand the alias and effectively build the target returned by:
$ buck targets --resolve-alias app#src_jar
//apps/myapp:app#src_jar
</pre></p><h2 id="android">[android] <a class="inline-link" href="#android">#</a></h2><p>This section configures android-specific build behavior.</p><h3 id="android.build_tools_version">build_tools_version <a class="inline-link" href="#android.build_tools_version">#</a></h3><p>This specifies the version of the Android SDK Build-tools that all Android code in the project should be built against.  By default, Buck will select the newest version found on the system.</p><pre class="prettyprint lang-ini">[android]
  build_tools_version = 23.0.1</pre><h3 id="android.target">target <a class="inline-link" href="#android.target">#</a></h3><p>This specifies the version of the Android SDK that all Android code in the project should be built against.  Even if not specified, the version that Buck chose to use will be printed to the console during the build.  A list of valid values on your system can be found by running <code>android list targets --compact</code>.</p><pre class="prettyprint lang-ini">[android]
  target = Google Inc.:Google APIs:21</pre><h2 id="apple">[apple] <a class="inline-link" href="#apple">#</a></h2><p>This section includes settings that control settings that are specific to Apple platform rules.</p><h3 id="apple.xcode_developer_dir">xcode_developer_dir <a class="inline-link" href="#apple.xcode_developer_dir">#</a></h3><p>By default, Buck will use the output of <code>xcode-select --print-path</code> to determine where Xcode's developer directory is.  However, you can specify a directory in the config to override whatever value that would return.</p><pre class="prettyprint lang-ini">[apple]
  xcode_developer_dir = path/to/developer/directory</pre><h3 id="apple.xcode_developer_dir_for_tests">xcode_developer_dir_for_tests <a class="inline-link" href="#apple.xcode_developer_dir_for_tests">#</a></h3><p>Optionally override the Xcode developer directory for running tests, if you want them to be run with a different Xcode version than the version used for building.  If absent, falls back to <code>xcode_developer_dir</code> and finally <code>xcode-select --print-path</code>.</p><pre class="prettyprint lang-ini">[apple]
  xcode_developer_dir_for_tests = path/to/developer/directory/for_tests</pre><h3 id="apple.target_sdk_version">target_sdk_version <a class="inline-link" href="#apple.target_sdk_version">#</a></h3><p>For each platform, you can specify the target SDK version to use.  The format is <code>{platform}_target_sdk_version</code>.</p><pre class = "prettyprint lang-ini">
[apple]
  iphonesimulator_target_sdk_version = 7.0
  iphoneos_target_sdk_version = 7.0
  macosx_target_sdk_version = 10.9
</pre><h3 id="apple.xctool_path">xctool_path <a class="inline-link" href="#apple.xctool_path">#</a></h3><p>If you want to run tests with Buck, you will need to get <a href="https://github.com/facebook/xctool"><code>xctool</code></a> and tell Buck where to find it.  This setting lets you specify a path to a binary.  You should use either this setting or <a href="/concept/buckconfig.html#apple.xctool_zip_target">apple.xctool_zip_target</a>.</p><pre class="prettyprint lang-ini">[apple]
  xctool_path = path/to/binary/of/xctool</pre><h3 id="apple.xctool_zip_target">xctool_zip_target <a class="inline-link" href="#apple.xctool_zip_target">#</a></h3><p>If you want to run tests with Buck, you will need to get <a href="https://github.com/facebook/xctool"><code>xctool</code></a> and tell Buck where to find it.  This setting lets you specify a <a href="/concept/build_target.html">build target</a>.  You should use either this setting or <a href="/concept/buckconfig.html#apple.xctool_path">apple.xctool_path</a>.</p><pre class="prettyprint lang-ini">[apple]
  xctool_zip_target = //path/to/target/that/creates:xctool-zip</pre><h3 id="apple.test_log">test_log <a class="inline-link" href="#apple.test_log">#</a></h3><p>When running Apple tests via <code>xctool</code>, Buck can set environment variables to tell the tests where to write debug logs and what log level to use. By default, Buck tells <code>xctool</code> to set two environment variables named <code>FB_LOG_DIRECTORY</code>and <code>FB_LOG_LEVEL</code> when running tests which you can read from your test environment:<pre class="prettyprint lang-sh">
  FB_LOG_DIRECTORY=buck-out/gen/path/to/logs
  FB_LOG_LEVEL=debug
</pre>You can override the default names for these environment variables and the value for the debug log level via the following config settings:</p><pre class="prettyprint lang-init">
  [apple]
    test_log_directory_environment_variable=MY_LOG_DIRECTORY
    test_log_level_environmant_variable=MY_LOG_LEVEL
    test_log_level=verbose
</pre><h3 id="apple.xctool_default_destination_specifier">xctool_default_destination_specifier <a class="inline-link" href="#apple.xctool_default_destination_specifier">#</a></h3><p>This setting is passed directly to <code>xctool</code>, and then to <code>xcodebuild</code> as the <code>-destination</code> argument.  See the <a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html">man page</a> for the proper syntax.</p><pre class="prettyprint lang-ini">[apple]
  xctool_default_destination_specifier = platform=iOS Simulator</pre><h3 id="apple.default_debug_info_format_for_binaries">default_debug_info_format_for_binaries <a class="inline-link" href="#apple.default_debug_info_format_for_binaries">#</a></h3><p><code>default_debug_info_format_for_binaries</code> setting controls the default debug info format that is used when building binary targets. If you don't specify it, <code>DWARF_AND_DSYM</code> value will be used. You can disable debug data by specifying <code>NONE</code> value. You can produce unstripped binary by specifying<code>DWARF</code> value.</p><pre class="prettyprint lang-ini">[apple]
  default_debug_info_format_for_binaries = NONE</pre><h3 id="apple.default_debug_info_format_for_libraries">default_debug_info_format_for_libraries <a class="inline-link" href="#apple.default_debug_info_format_for_libraries">#</a></h3><p><code>default_debug_info_format_for_libraries</code> setting controls the default debug info format that is used when building dynamic library targets. If you don't specify it, <code>DWARF</code> value will be used. You can disable debug data by specifying <code>NONE</code> value. You can produce dSYM file for the library by specifying<code>DWARF_AND_DSYM</code> value.</p><pre class="prettyprint lang-ini">[apple]
  default_debug_info_format_for_libraries = DWARF</pre><h3 id="apple.default_debug_info_format_for_tests">default_debug_info_format_for_tests <a class="inline-link" href="#apple.default_debug_info_format_for_tests">#</a></h3><p><code>default_debug_info_format_for_tests</code> setting controls the default debug info format that is used when building test targets. If you don't specify it, <code>DWARF</code> value will be used. You can disable debug data by specifying <code>NONE</code> value. You can produce dSYM file by specifying<code>DWARF_AND_DSYM</code> value.</p><pre class="prettyprint lang-ini">[apple]
  default_debug_info_format_for_tests = DWARF_AND_DSYM</pre><h3 id="apple.device_helper_path">device_helper_path <a class="inline-link" href="#apple.device_helper_path">#</a></h3><p>If you want to have Buck be able to install to devices, you need to provide the path to the <a href="https://github.com/samdmarshall/SDMMobileDevice"><code>iOSConsole</code></a> binary.</p><pre class="prettyprint lang-ini">[apple]
  device_helper_path = third-party/iOSConsole/iOSConsole</pre><h3 id="apple.provisioning_profile_read_command">provisioning_profile_read_command <a class="inline-link" href="#apple.provisioning_profile_read_command">#</a></h3><p>Specifies a command with any optional arguments that Buck will use to decode Apple's provisioning profiles for iOS builds.  The full path of the provisioning profile will be appended after the command and any arguments specified here.  If unspecified, Buck will use <code>openssl smime -inform der -verify -noverify -in</code>.</p><pre class="prettyprint lang-ini">[apple]
  provisioning_profile_read_command = path/to/command --arg1 --arg2</pre><h3 id="apple.provisioning_profile_search_path">provisioning_profile_search_path <a class="inline-link" href="#apple.provisioning_profile_search_path">#</a></h3><p>Specifies a path where Buck will look for provisioning profiles (files with extension <code>.mobileprovision</code>) that it can use to provision the application to be used on a device. You can specify either an absolute path or one relative to the project root.  If unspecified, Buck will look in <code>~/Library/MobileDevice/Provisioning Profiles</code>.</p><pre class="prettyprint lang-ini">[apple]
  provisioning_profile_search_path = path/to/provisioning/profiles</pre><h3 id="apple.code_sign_identities_command">code_sign_identities_command <a class="inline-link" href="#apple.code_sign_identities_command">#</a></h3><p>Specifies a command with any optional arguments that Buck will use to get the current key fingerprints available for code signing.  This command should output a list of hashes and common names to standard output in the same format as <code>security find-identity -v -p codesigning</code>.  If unspecified, Buck will use <code>security find-identity -v -p codesigning</code>.</p><pre class="prettyprint lang-ini">[apple]
  code_sign_identities_command = path/to/command --arg1 --arg2</pre><h3 id="apple.use_header_maps_in_xcode">use_header_maps_in_xcode <a class="inline-link" href="#apple.use_header_maps_in_xcode">#</a></h3><p>Xcode projects generated by Buck by default use header maps for header search paths. This speeds up builds for large projects over using regular directory header search paths, but breaks some Xcode features, like header file name autocompletion. If that is an issue, use the following option to disable the use of header maps.</p><pre class="prettyprint lang-ini">[apple]
  use_header_maps_in_xcode = false</pre><h3 id="apple.*_package_command">*_package_command <a class="inline-link" href="#apple.*_package_command">#</a></h3><p>Specify a custom command to run for <code>apple_package()</code> rules. The syntax of this field is similar to the <code>cmd</code> field of <a href="/rule/genrule.html"><code>genrule</code></a>, and supports some expansions:<dl><dt><code>SRCS</code></dt><dd>Expands to the absolute path of the <code>bundle</code> argument output to the<code>apple_package()</code> rule.</dd><dt><code>OUT</code></dt><dd>Expands to the output file for the <code>apple_package()</code> rule. The file specified by this variable must always be written by this command.</dt><dt><code>SDKROOT</code></dt><dd>Expands to the SDK root directory for the requested SDK.  For example,<code>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS9.2.sdk/</code>.</dd></dl>Note that since strings in the config can be quoted, literal quotes can only be written by quoting the string and use escaped quotes. If omitted, this will revert to the built-in behavior. When this option is specified, <code>*_package_extension</code> must also be specified.</p>
      <pre class = "prettyprint lang-ini">
[apple]
  iphoneos_package_command = "\"$PLATFORM_DIR/Developer/usr/bin/PackageApplication\" \"$SRCS\" \"$OUT\""
  iphoneos_package_extension = zip</pre>
      <h3 id="apple.*_package_extension">*_package_extension <a class="inline-link" href="#apple.*_package_extension">#</a></h3><p>Specify the output extension for custom <code>apple_package</code> rules configured with<code>*_package_command</code>. This config option must be specified when <code>*_package_command</code> is specified, or both omitted.</p><h3 id="apple.*_toolchains_override">*_toolchains_override <a class="inline-link" href="#apple.*_toolchains_override">#</a></h3><p>Specify a comma-delimited custom list of toolchains to use when building with a particular SDK. This is the Buck equivalent of the <code>TOOLCHAINS</code> environment variable when building with Xcode. If omitted, this will revert to the built-in behavior.</p><h2 id="build">[build] <a class="inline-link" href="#build">#</a></h2><p>This section includes settings that control build engine behavior.</p><h3 id="build.engine">engine <a class="inline-link" href="#build.engine">#</a></h3><p>This has two possible values that change the behavior of how Buck operates when building a <a href="/concept/build_target.html">build target</a>:<ul><li><code>shallow</code> (default): only the required transitive dependencies of a <a href="/concept/build_target.html">build target</a> are materialized locally. Cache hits can result in missing transitive dependencies that are not needed for the final output.</li><li><code>deep</code>: ensure that all transitive dependencies of a <a href="/concept/build_target.html">build target</a> are materialized locally.</li></ul></p><pre class="prettyprint lang-ini">[build]
  engine = shallow</pre><h3 id="build.depfiles">depfiles <a class="inline-link" href="#build.depfiles">#</a></h3><p>Configures the use of dependency files for rules that support them.  This is an optimization that is useful when dependencies are over-specified and the rule can dynamically determine the subset of dependencies it actually needs.  The possible values are:<ul><li><code>enabled</code> (default): Use dependency files to avoid unnecessary rebuilds.</li><li><code>cache</code>: Use dependency files to avoid unnecessary rebuilds and to store/fetch artifacts to/from the cache.</li><li><code>disabled</code>: Do not use dependency files for rebuild detection.</li></ul></p><pre class="prettyprint lang-ini">[build]
  depfiles = enabled</pre><h3 id="build.max_depfile_cache_entries">max_depfile_cache_entries <a class="inline-link" href="#build.max_depfile_cache_entries">#</a></h3><p>Sets the maximum size of the depfile cache for each input source file.  This is only used when setting <a href="/concept/buckconfig.html#build.depfiles">build.depfiles</a> to <code>cache</code>.  An ideal setting for this should be big enough for the working set of all possible header states that a given unchanged source file uses.</p><pre class="prettyprint lang-ini">[build]
  max_depfile_cache_entries = 256</pre><h3 id="build.type">type <a class="inline-link" href="#build.type">#</a></h3><p>Sets the type of the build that buck has been built with. This allows buck to distinguish different kinds of builds. When you run <code>ant</code> locally, this will be automatically set to <code>LOCAL_ANT</code>. When you build buck using buck locally, e.g. <code>buck build buck</code>, this will be automatically set to <code>LOCAL_PEX</code>. If you are deploying buck through central deployment system, you may want to set build type to <code>RELEASE_PEX</code>: <pre>buck build buck --config build.type=RELEASE_PEX</pre><p><b>Note:</b> this setting does not affect how buck builds other rules. It only affects the way how <i>buck will build buck</i>.</p></p><pre class="prettyprint lang-ini">[build]
  type = RELEASE_PEX</pre><h3 id="build.threads">threads <a class="inline-link" href="#build.threads">#</a></h3><p>Sets the maximum number of threads to use for building.  By default, Buck uses the number of available cores multipled by <code>1.25</code>.</p><pre class="prettyprint lang-ini">[build]
  threads = 4</pre><h3 id="build.thread_core_ratio">thread_core_ratio <a class="inline-link" href="#build.thread_core_ratio">#</a></h3><p>Sets the maximum number of threads to use for building as a ratio of the number of available cores (e.g. <code>0.75</code> on a 4 core machine would limit building to 3 threads, or a value of <code>1.25</code> on the same machine would attempt to use 5 threads).</p><pre class="prettyprint lang-ini">[build]
  thread_core_ratio = 0.75</pre><h3 id="build.thread_core_ratio_max_threads">thread_core_ratio_max_threads <a class="inline-link" href="#build.thread_core_ratio_max_threads">#</a></h3><p>The maximum number of threads to use when calculating the number of build threads from thread_core_ratio. (e.g. a value of 2 on a 4 core machine would ensure that, at most, 2 threads were used, and value of 10 on a 40 core machine would ensure that, at most, 10 threads were used).</p><pre class="prettyprint lang-ini">[build]
  thread_core_ratio_max_threads = 10</pre><h3 id="build.thread_core_ratio_min_threads">thread_core_ratio_min_threads <a class="inline-link" href="#build.thread_core_ratio_min_threads">#</a></h3><p>The minimum number of threads to use when calculating the number of build threads from thread_core_ratio. (e.g. a value of 1 on a 4 core machine would ensure that, at least, 1 thread was used, and value of 4 on a 40 core machine would ensure that, at least, 10 threads were used).</p><pre class="prettyprint lang-ini">[build]
  thread_core_ratio_min_threads = 1</pre><h3 id="build.thread_core_ratio_reserved_cores">thread_core_ratio_reserved_cores <a class="inline-link" href="#build.thread_core_ratio_reserved_cores">#</a></h3><p>Limit the maximum number of build threads to be the number of detected cores minus this value. (e.g. a value of 1 on a 4 core machine would ensure that, at most, 3 cores were used, and a value of 2 on a 40 core machine would ensure that, at most, 38 cores were used).</p><pre class="prettyprint lang-ini">[build]
  thread_core_ratio_reserved_cores = 1</pre><h3 id="build.network_threads">network_threads <a class="inline-link" href="#build.network_threads">#</a></h3><p>The number of threads to be used for network I/O. The default value is number of cores of the machine.</p><pre class="prettyprint lang-ini">[build]
  network_threads = 8</pre><h2 id="buildfile">[buildfile] <a class="inline-link" href="#buildfile">#</a></h2><p>This section includes settings that control build file behavior.</p><h3 id="buildfile.includes">includes <a class="inline-link" href="#buildfile.includes">#</a></h3><p>This sets a list of paths to files that will be automatically included by every build file. This is equivalent to calling <a href="/function/include_defs.html"><code>include_defs()</code></a> in every build file.</p><pre class="prettyprint lang-ini">[buildfile]
  includes = //core/DEFS</pre><h2 id="cache">[cache] <a class="inline-link" href="#cache">#</a></h2><p>This section configures build artifact caching, which can be disabled (default), on the filesystem, or in a distributed cache that can be shared among developers.  Note that the <a href="/concept/buckconfig.html#cache.mode">cache.mode</a> setting determines which other properties, if any, are relevant to the caching configuration; the irrelevant properties are ignored.</p><h3 id="cache.mode">mode <a class="inline-link" href="#cache.mode">#</a></h3><p>A comma-separated set of caching policies to use.  The valid values are:<ul><li><code>dir</code> (default): Use a directory-based cache on the local filesystem.</li><li><code>http</code>: Use an http-based cache.</li></ul></p><pre class="prettyprint lang-ini">[cache]
  mode = dir, http</pre><h3 id="cache.dir">dir <a class="inline-link" href="#cache.dir">#</a></h3><p>The directory path relative to the project root that is used for directory-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>).  This defaults to <code>buck-out/cache</code>.</p><pre class="prettyprint lang-ini">[cache]
  dir = buck-cache</pre><h3 id="cache.dir_max_size">dir_max_size <a class="inline-link" href="#cache.dir_max_size">#</a></h3><p>The maximum cache size for directory-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>).  The default size is unlimited.</p><pre class="prettyprint lang-ini">[cache]
  dir_max_size = 10GB</pre><h3 id="cache.dir_mode">dir_mode <a class="inline-link" href="#cache.dir_mode">#</a></h3><p>Dictates if the cache is <code>readonly</code> or <code>readwrite</code> (default) when using directory-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>).</p><pre class="prettyprint lang-ini">[cache]
  dir_mode = readwrite</pre><h3 id="cache.http_url">http_url <a class="inline-link" href="#cache.http_url">#</a></h3><p>The URL to use to contact the cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  Buck communicates with the server using a <a href="/concept/http_cache_api.html">simple API</a>.</p><pre class="prettyprint lang-ini">[cache]
  http_url = http://localhost:8080</pre><h3 id="cache.http_mode">http_mode <a class="inline-link" href="#cache.http_mode">#</a></h3><p>Dictates if the cache is <code>readonly</code> or <code>readwrite</code> (default) when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).</p><pre class="prettyprint lang-ini">[cache]
  http_mode = readwrite</pre><h3 id="cache.http_read_headers">http_read_headers <a class="inline-link" href="#cache.http_read_headers">#</a></h3><p>A semicolon-separated set of HTTP headers to use when reading from the cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is no headers.</p><pre class="prettyprint lang-ini">[cache]
  http_read_headers = User-Agent: buck</pre><h3 id="cache.http_write_headers">http_write_headers <a class="inline-link" href="#cache.http_write_headers">#</a></h3><p>A semicolon-separated set of HTTP headers to use when writing to the cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is no headers.</p><pre class="prettyprint lang-ini">[cache]
  http_write_headers = Authorization: XXXXXXX; User-Agent: buck</pre><h3 id="cache.http_timeout_seconds">http_timeout_seconds <a class="inline-link" href="#cache.http_timeout_seconds">#</a></h3><p>Dictates the timeout per connection when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is <code>3</code>.</p><pre class="prettyprint lang-ini">[cache]
  http_timeout_seconds = 3</pre><h3 id="cache.http_max_concurrent_writes">http_max_concurrent_writes <a class="inline-link" href="#cache.http_max_concurrent_writes">#</a></h3><p>The numver of writer threads to use to upload to the http cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is <code>1</code>.  Note that when using multiple http caches (see below), the writer thread pool is shared between them all.</p><pre class="prettyprint lang-ini">[cache]
  http_max_concurrent_writes = 1</pre><h3 id="cache.http_writer_shutdown_timeout_seconds">http_writer_shutdown_timeout_seconds <a class="inline-link" href="#cache.http_writer_shutdown_timeout_seconds">#</a></h3><p>The length of time to wait after the build completes for any remaining http cache uploads to complete before forecfully shutting down the writer thread pool when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is <code>1800</code> (30 minutes).</p><pre class="prettyprint lang-ini">[cache]
  http_writer_shutdown_timeout_seconds = 1800</pre><h3 id="cache.http_error_message_format">http_error_message_format <a class="inline-link" href="#cache.http_error_message_format">#</a></h3><p>This setting allows for the customization of how http cache errors appear to the user.  If the text <code>{cache_name}</code> is present, it will be replaced with the name of the cache when using <a href="/concept/buckconfig.html#cache.http_cache_names">cache.http_cache_names</a>, or just <code>http</code>.  If the text <code>{error_message}</code>, it will be replaced with the error message.</p><pre class="prettyprint lang-ini">[cache]
  http_error_message_format = The cache named {cache_name} encountered an error: {error_message}</pre><h3 id="cache.http_max_store_size">http_max_store_size <a class="inline-link" href="#cache.http_max_store_size">#</a></h3><p>The max size in bytes that an artifact can be to get pushed to an http cache.</p><pre class="prettyprint lang-ini">[cache]
  http_max_store_size = 5000000</pre><h3 id="cache.serve_local_cache">serve_local_cache <a class="inline-link" href="#cache.serve_local_cache">#</a></h3><p>Make the directory-based cache (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>) available to other hosts on the network via Buck's HTTP server (enabled under <a href="/concept/buckconfig.html#httpserver"><code>[httpserver]</code></a>).</p><pre class="prettyprint lang-ini">[cache]
  serve_local_cache = false</pre><h3 id="cache.served_local_cache_mode">served_local_cache_mode <a class="inline-link" href="#cache.served_local_cache_mode">#</a></h3><p>Dictates if the cache is <code>readonly</code> (default) or <code>readwrite</code> when <a href="/concept/buckconfig.html#cache.serve_local_cache">cache.serve_local_cache</a> is enabled.</p><pre class="prettyprint lang-ini">[cache]
  served_local_cache_mode = readwrite</pre><h3 id="cache.http_cache_names">http_cache_names <a class="inline-link" href="#cache.http_cache_names">#</a></h3><p>A comma-separated list of names used to configure multiple caches.  The caches will be used <b>serially</b> in the order in which their names are specified here.  If an artifact is found further along in the list, an attempt to store it in the caches earlier in the list will be made.  In the following example, if the artifact is found in the <code>global</code> cache, it will be stored in the <code>local</code> cache, but not <code>regional-ro</code> cache (as that one is <code>readonly</code>.</p><pre class="prettyprint lang-ini">
[cache]
    mode = http
    http_cache_names = local, regional-ro, global

[cache#regional-ro]
    http_url = http://region.com/
    http_timeout_seconds = 5
    http_mode = readonly

[cache#local]
    http_url = http://local.co.uk/
    http_timeout_seconds = 1

[cache#global]
    http_url = http://global.com/
    http_timeout_seconds = 42
</pre><h3 id="cache.two_level_cache_enabled">two_level_cache_enabled <a class="inline-link" href="#cache.two_level_cache_enabled">#</a></h3><p>Have the Buck client perform 2-level stores and lookups on the artifacts. Every cache operation consists of 2 steps: content hash-based and RuleKey-based. This makes it easier to reuse locally cached artifacts across different buck versions at the expense of higher latencies in the case where artifacts are not present in the local cache.</p><pre class="prettyprint lang-ini">[cache]
  two_level_cache_enabled = false</pre><h3 id="cache.two_level_cache_minimum_size">two_level_cache_minimum_size <a class="inline-link" href="#cache.two_level_cache_minimum_size">#</a></h3><p>When performing a store artifacts smaller than this size will be stored directly, without the content hash redirection.</p><pre class="prettyprint lang-ini">[cache]
  two_level_cache_minimum_size = 1024</pre><h3 id="cache.two_level_cache_maximum_size">two_level_cache_maximum_size <a class="inline-link" href="#cache.two_level_cache_maximum_size">#</a></h3><p>When performing a store artifacts bigger than this size will be stored directly, without the content hash redirection.</p><pre class="prettyprint lang-ini">[cache]
  two_level_cache_maximum_size = 1024</pre><h3 id="cache.action_graph_cache_check_enabled">action_graph_cache_check_enabled <a class="inline-link" href="#cache.action_graph_cache_check_enabled">#</a></h3><p>It enables an integrity checking mechanism in the action graph cache that compares the a newly generated action graph with the one already in the cache in the case of a cache hit. If the graphs do not match the build is stopped and the mismatching rules are printed and logged.</p><pre class="prettyprint lang-ini">[cache]
  action_graph_cache_check_enabled = false</pre><h3 id="cache.load_balancing_type">load_balancing_type <a class="inline-link" href="#cache.load_balancing_type">#</a></h3><p>Decides whether the distributed cache connects to a single url or it has a pool of servers and chooses which one to use based on client side load balancing. NOTE: 'slb_*' configs only apply when CLIENT_SLB is enabled.</p><pre class="prettyprint lang-ini">[cache]
  load_balancing_type = SINGLE_SERVER, CLIENT_SLB</pre><h3 id="cache.slb_server_pool">slb_server_pool <a class="inline-link" href="#cache.slb_server_pool">#</a></h3><p>A comma separated list of server URLs of valid servers. The client side loadbalancer will try to pick the best server to connect to for every single connection.</p><pre class="prettyprint lang-ini">[cache]
  slb_server_pool = http://my.server.one/,http://my.server.two</pre><h3 id="cache.slb_ping_endpoint">slb_ping_endpoint <a class="inline-link" href="#cache.slb_ping_endpoint">#</a></h3><p>The client side loadbalancer will use this endpoint to check whether the server is in healthy state or not. It will also be used to measure request latency.</p><pre class="prettyprint lang-ini">[cache]
  slb_ping_endpoint = /ping.php</pre><h3 id="cache.slb_health_check_internal_millis">slb_health_check_internal_millis <a class="inline-link" href="#cache.slb_health_check_internal_millis">#</a></h3><p>The timeout in milliseconds between two consecutive client side loadbalancer health checks to the slb_server_pool.</p><pre class="prettyprint lang-ini">[cache]
  slb_health_check_internal_millis = 1000</pre><h3 id="cache.slb_timeout_millis">slb_timeout_millis <a class="inline-link" href="#cache.slb_timeout_millis">#</a></h3><p>The connection timeout per health request made to each of the slb_server_pool servers. Any server that fails to respond within this period will be deemed unhealthy and not be used for cache requests.</p><pre class="prettyprint lang-ini">[cache]
  slb_timeout_millis = 1000</pre><h3 id="cache.slb_error_check_time_range_millis">slb_error_check_time_range_millis <a class="inline-link" href="#cache.slb_error_check_time_range_millis">#</a></h3><p>The error rate to each individual server taking part in the slb_server_pool will be measured in the time range/window specified by this config. In different words, 'errors per second' is computed only for the last slb_error_check_time_range_millis.</p><pre class="prettyprint lang-ini">[cache]
  slb_error_check_time_range_millis = 300000</pre><h3 id="cache.slb_max_error_percentage">slb_max_error_percentage <a class="inline-link" href="#cache.slb_max_error_percentage">#</a></h3><p>The max error percentage allowed within the last slb_error_check_time_range_millis that is acceptable to keep a particular server marked as healthy and usable by the loadbalancer. Expects a float value in the interval [0, 1].</p><pre class="prettyprint lang-ini">[cache]
  slb_max_error_percentage = 0.1</pre><h3 id="cache.slb_latency_check_time_range_millis">slb_latency_check_time_range_millis <a class="inline-link" href="#cache.slb_latency_check_time_range_millis">#</a></h3><p>The latency to each individual server taking part in the slb_server_pool will be measured in the time range/window specified by this config. In different words, 'server latency' is computed only for the last slb_latency_check_time_range_millis.</p><pre class="prettyprint lang-ini">[cache]
  slb_latency_check_time_range_millis = 300000</pre><h3 id="cache.slb_max_acceptable_latency_millis">slb_max_acceptable_latency_millis <a class="inline-link" href="#cache.slb_max_acceptable_latency_millis">#</a></h3><p>If the latency of a ping request to a server in slb_server_pool is higher than this, the server is deemed unhealthy and not used for cache operations.</p><pre class="prettyprint lang-ini">[cache]
  slb_max_acceptable_latency_millis = 1000</pre><h2 id="credentials">[credentials] <a class="inline-link" href="#credentials">#</a></h2><p>This section configures credentials to be used when fetching from authenticated Maven repositories via HTTPS.<p>For a repository <code>repo</code> appearing in <a href="/concept/buckconfig.html#maven_repositories"><code>[maven_repositories]</code></a>, Buck reads the values of <code>repo_user</code> and <code>repo_pass</code> in this section (if present), and passes them to the server using  <a href="https://en.wikipedia.org/wiki/Basic_access_authentication#Client_side">basic access authentication</a> when fetching.<p>Note that authenticating in this way over plain HTTP connections is disallowed and will result in an error.<pre class="prettyprint lang-ini">
[maven_repositories]
  repo = https://example.com/repo
[credentials]
  repo_user = joeuser
  repo_pass = hunter2
</pre></p><h2 id="color">[color] <a class="inline-link" href="#color">#</a></h2><p>This section configures colored output of Buck.</p><h3 id="color.ui">ui <a class="inline-link" href="#color.ui">#</a></h3><p>Enables (default) or disables colorized output in the terminal.</p><pre class="prettyprint lang-ini">[color]
  ui = true</pre><h2 id="d">[d] <a class="inline-link" href="#d">#</a></h2><p>This section configures how code written in D is compiled.</p><h3 id="d.base_compiler_flags">base_compiler_flags <a class="inline-link" href="#d.base_compiler_flags">#</a></h3><p>Flags to pass to every invocation of the D compiler. This is a space-separated list. It defaults to an empty list.</p><pre class="prettyprint lang-ini">[d]
  base_compiler_flags = -I/some/path -g -O3</pre><h3 id="d.compiler">compiler <a class="inline-link" href="#d.compiler">#</a></h3><p>Path to the D compiler. If this parameter is not specified, Buck attempts to find the D compiler automatically.</p><pre class="prettyprint lang-ini">[d]
  compiler = /opt/dmd/bin/dmd</pre><h3 id="d.library_path">library_path <a class="inline-link" href="#d.library_path">#</a></h3><p>Directories to be searched for the D runtime libraries. This is a colon-separated list. If this parameter is not specified, Buck attempts to detect the location of the libraries automatically.</p><pre class="prettyprint lang-ini">[d]
  library_path = /usr/local/lib:/opt/dmd/lib</pre><h3 id="d.linker_flags">linker_flags <a class="inline-link" href="#d.linker_flags">#</a></h3><p>Flags to pass to the linker when linking D code into an executable. This is a space-separated list. If omitted, this value is constructed from d.library_path.</p><pre class="prettyprint lang-ini">[d]
  linker_flags = &quot;-L/path to phobos&quot; -lphobos2</pre><h2 id="download">[download] <a class="inline-link" href="#download">#</a></h2><p>This section configures downloading from the network during <a href="/command/fetch.html"><code>buck fetch</code></a>.</p><h3 id="download.proxy">proxy <a class="inline-link" href="#download.proxy">#</a></h3><p>Buck will attempt to fetch files from the network, however, if you happen to be behind a] firewall, this may not work correctly.  You can supply a proxy when downloading from HTTP[S] servers with these three settings.  Valid types for <code>proxy_type</code> are <code>HTTP</code> (default) and <code>SOCKS</code>.  These values correspond to  <a href="http://docs.oracle.com/javase/8/docs/api/java/net/Proxy.Type.html">Java's Proxy.Type</a>.</p><pre class="prettyprint lang-ini">
[download]
    proxy_host=proxy.example.com
    proxy_port=8080
    proxy_type=HTTP
</pre><h3 id="download.maven_repo">maven_repo <a class="inline-link" href="#download.maven_repo">#</a></h3><p>If a remote file's URL starts with <code>mvn:</code>, that file (usually a jar) is supposed to come from a maven repo.  You can specify the repo to download from here, or by setting one or more repositories in <a href="/concept/buckconfig.html#maven_repositories"><code>[maven_repositories]</code></a>.</p><pre class="prettyprint lang-ini">[download]
  maven_repo = https://repo1.maven.org/maven2</pre><h3 id="download.max_number_of_retries">max_number_of_retries <a class="inline-link" href="#download.max_number_of_retries">#</a></h3><p>In case buck is unable to download a file, it will retry specified number of times before giving up.</p><pre class="prettyprint lang-ini">[download]
  max_number_of_retries = 3</pre><h2 id="cxx">[cxx] <a class="inline-link" href="#cxx">#</a></h2><p><p>This section configures the paths to the C++ and C toolchains' binaries and the default flags to pass to all invocations of them.</p></p><h3 id="cxx.cpp">cpp <a class="inline-link" href="#cxx.cpp">#</a></h3><p>The path to the C preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cpp = /usr/bin/gcc</pre><h3 id="cxx.cc">cc <a class="inline-link" href="#cxx.cc">#</a></h3><p>The path to the C compiler.</p><pre class="prettyprint lang-ini">[cxx]
  cc = /usr/bin/gcc</pre><h3 id="cxx.ld">ld <a class="inline-link" href="#cxx.ld">#</a></h3><p>The path to the C/C++ linker driver.</p><pre class="prettyprint lang-ini">[cxx]
  ld = /usr/bin/g++</pre><h3 id="cxx.linker_platform">linker_platform <a class="inline-link" href="#cxx.linker_platform">#</a></h3><p>The platform for the linker.  Normally this is autodetected based on the system, but it useful to set when cross compiling.  Valid values are:<ul><li><code>MACOS</code></li><li><code>LINUX</code></li><li><code>WINDOWS</code></li></ul></p><pre class="prettyprint lang-ini">[cxx]
  linker_platform = MACOS</pre><h3 id="cxx.cxxpp">cxxpp <a class="inline-link" href="#cxx.cxxpp">#</a></h3><p>The path to the C++ preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cxxpp = /usr/bin/g++</pre><h3 id="cxx.cxx">cxx <a class="inline-link" href="#cxx.cxx">#</a></h3><p>The path to the C++ compiler.</p><pre class="prettyprint lang-ini">[cxx]
  cxx = /usr/bin/g++</pre><h3 id="cxx.aspp">aspp <a class="inline-link" href="#cxx.aspp">#</a></h3><p>The path to the assembly preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  aspp = /usr/bin/gcc</pre><h3 id="cxx.as">as <a class="inline-link" href="#cxx.as">#</a></h3><p>The path to the assembler.</p><pre class="prettyprint lang-ini">[cxx]
  as = /usr/bin/as</pre><h3 id="cxx.ar">ar <a class="inline-link" href="#cxx.ar">#</a></h3><p>The path to the archiver.</p><pre class="prettyprint lang-ini">[cxx]
  ar = /usr/bin/ar</pre><h3 id="cxx.archiver_platform">archiver_platform <a class="inline-link" href="#cxx.archiver_platform">#</a></h3><p>The platform for the archiver.  Normally this is autodetected based on the system, but it useful to set when cross compiling.  Valid values are:<ul><li><code>MACOS</code></li><li><code>LINUX</code></li><li><code>WINDOWS</code></li></ul></p><pre class="prettyprint lang-ini">[cxx]
  archiver_platform = MACOS</pre><h3 id="cxx.cppflags">cppflags <a class="inline-link" href="#cxx.cppflags">#</a></h3><p>The flags to pass to the C preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cppflags = -Wall</pre><h3 id="cxx.cflags">cflags <a class="inline-link" href="#cxx.cflags">#</a></h3><p>The flags to pass to the C compiler and preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cflags = -Wall</pre><h3 id="cxx.ldflags">ldflags <a class="inline-link" href="#cxx.ldflags">#</a></h3><p>The flags to pass to the linker.</p><pre class="prettyprint lang-ini">[cxx]
  ldflags = --strip-all</pre><h3 id="cxx.cxxppflags">cxxppflags <a class="inline-link" href="#cxx.cxxppflags">#</a></h3><p>The flags to pass to the C++ preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cxxppflags = -Wall</pre><h3 id="cxx.cxxflags">cxxflags <a class="inline-link" href="#cxx.cxxflags">#</a></h3><p>The flags to pass to the C++ compiler and preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cxxflags = -Wall</pre><h3 id="cxx.asppflags">asppflags <a class="inline-link" href="#cxx.asppflags">#</a></h3><p>The flags to pass to the assembly preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  asppflags = -W</pre><h3 id="cxx.asflags">asflags <a class="inline-link" href="#cxx.asflags">#</a></h3><p>The flags to pass to the assembler and assembly preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  asflags = -W</pre><h3 id="cxx.arflags">arflags <a class="inline-link" href="#cxx.arflags">#</a></h3><p>The flags to pass to the archiver.</p><pre class="prettyprint lang-ini">[cxx]
  arflags = -X32_64</pre><h3 id="cxx.ranlibflags">ranlibflags <a class="inline-link" href="#cxx.ranlibflags">#</a></h3><p>The flags to pass to the archive indexer.</p><pre class="prettyprint lang-ini">[cxx]
  ranlibflags = --plugin someplugin</pre><h3 id="cxx.untracked_headers">untracked_headers <a class="inline-link" href="#cxx.untracked_headers">#</a></h3><p>How to handle header files that get included in a preprocessing step, but which aren't explicitly owned by any dependencies.  By default, Buck sandboxes headers into symlink trees, but file relative inclusion and explicit preprocessor flags can still cause untracked headers to get pulled into the build which can break caching.<ul><li><code>ignore</code> (default): Untracked headers are allowed in the build.</li><li><code>warn</code>: Print a warning to the console when an untracked header is used.</li><li><code>error</code>: Fail the build when an untracked header is used.</li></ul></p><pre class="prettyprint lang-ini">[cxx]
  untracked_headers = error</pre><h3 id="cxx.untracked_headers_whitelist">untracked_headers_whitelist <a class="inline-link" href="#cxx.untracked_headers_whitelist">#</a></h3><p>A list of regexes which match headers to exempt from untracked header verification.</p><pre class="prettyprint lang-ini">[cxx]
  untracked_headers_whitelist = /usr/include/.*, /usr/local/include/.*</pre><h3 id="cxx.pch_enabled">pch_enabled <a class="inline-link" href="#cxx.pch_enabled">#</a></h3><p><p>Whether prefix headers used by a cxx_library or other such build rule's <code>prefix_header</code>  parameter should be separately precompiled, and used in that rule's build.</p><p>If this is disabled, the prefix header is included as-is, without precompilation.</p><p>Default is <code>true</code>.</p></p><pre class="prettyprint lang-ini">[cxx]
  pch_enabled = false</pre><h3 id="cxx.link_weight">link_weight <a class="inline-link" href="#cxx.link_weight">#</a></h3><p>The number of jobs that each C/C++ link rule consumes when running. By default, this is <code>1</code>, but this can overriden to change how many link rules can execute in parallel for a given <code>-j</code>value. This is useful for builds with large I/O intensive static links where using a lower <code>-j</code> value is undesirable (since it reduces the parallelism for other build rule types).</p><pre class="prettyprint lang-ini">[cxx]
  link_weight = 3</pre><h3 id="cxx.cache_links">cache_links <a class="inline-link" href="#cxx.cache_links">#</a></h3><p>C/C++ link rules are cached by default.  However, static C/C++ link jobs can take up lots of cache space and also get relatively low hit rates, so this config option provides a way to disable caching of all C/C++ link rules in the build.</p><pre class="prettyprint lang-ini">[cxx]
  cache_links = false</pre><h2 id="doctor">[doctor] <a class="inline-link" href="#doctor">#</a></h2><p>This section defines variables that are associated with command <code>doctor</code>.</p><h3 id="doctor.endpoint_url">endpoint_url <a class="inline-link" href="#doctor.endpoint_url">#</a></h3><p>The address of the remote endpoint that the request will go. This needs to be defined in order for the command to work.</p><pre class="prettyprint lang-ini">[doctor]
  endpoint_url = http://localhost:4545</pre><h3 id="doctor.extra_request_args">extra_request_args <a class="inline-link" href="#doctor.extra_request_args">#</a></h3><p>This sections of keys and values is added as parameters to the POST request send to the doctor remote endpoint.</p><pre class="prettyprint lang-ini">[doctor]
  extra_request_args = ref=&gt;1245,token=&gt;42</pre><h2 id="go">[go] <a class="inline-link" href="#go">#</a></h2><p>This section defines the Go toolchain.  By default Buck will try to discovery the Go compiler and linker from the <code>go</code> tool found in your <code>PATH</code>.</p><h3 id="go.root">root <a class="inline-link" href="#go.root">#</a></h3><p>If you have a non-standard Go install, you will need to set the Go root.  The root should contain <code>pkg</code> and <code>bin</code> directories.</p><pre class="prettyprint lang-ini">[go]
  root = /opt/golang/libexec</pre><h3 id="go.prefix">prefix <a class="inline-link" href="#go.prefix">#</a></h3><p>For interoperability with the go tool, you may specify a prefix for your default package names.</p><pre class="prettyprint lang-ini">[go]
  prefix = github.com/facebook/buck</pre><h3 id="go.tool">tool <a class="inline-link" href="#go.tool">#</a></h3><p>You can specify the path to find the <code>go</code> tool.  This in turn will allow Buck to discover the compiler/linker by default.  This defaults to <code>${go.root}/bin/go</code>.</p><pre class="prettyprint lang-ini">[go]
  tool = /usr/local/bin/go</pre><h3 id="go.compiler">compiler <a class="inline-link" href="#go.compiler">#</a></h3><p>The full path to the Go compiler.  This is normally automatically discovered.</p><pre class="prettyprint lang-ini">[go]
  compiler = /usr/local/libexec/go/pkg/tool/darwin_amd64/compile</pre><h3 id="go.assembler">assembler <a class="inline-link" href="#go.assembler">#</a></h3><p>The full path to the Go assembler.  This is normally automatically discovered.</p><pre class="prettyprint lang-ini">[go]
  assembler = /usr/local/libexec/go/pkg/tool/darwin_amd64/asm</pre><h3 id="go.packer">packer <a class="inline-link" href="#go.packer">#</a></h3><p>The full path to the Go packer.  This is normally automatically discovered.</p><pre class="prettyprint lang-ini">[go]
  packer = /usr/local/libexec/go/pkg/tool/darwin_amd64/pack</pre><h3 id="go.linker">linker <a class="inline-link" href="#go.linker">#</a></h3><p>The full path to the Go linker.  This is normally automatically discovered.</p><pre class="prettyprint lang-ini">[go]
  linker = /usr/local/libexec/go/pkg/tool/darwin_amd64/link</pre><h3 id="go.vendor_path">vendor_path <a class="inline-link" href="#go.vendor_path">#</a></h3><p>A list of colon (:) separated list of directories to include for including in the importmap for Go dependencies.  Packages in these directories are allowed to be imported given just the relative path to the package.  This is similar to how 'vendor' directories work. e.g you can use <code>import golang.org/x/net</code> for a package that lives in<code><vendor_path>/golang.org/x/net</code>.</p><pre class="prettyprint lang-ini">[go]
  vendor_path = third-party/go</pre><h2 id="groovy">[groovy] <a class="inline-link" href="#groovy">#</a></h2><p>This section configures the <a href="http://groovy-lang.org/">Groovy</a> toolchain.</p><h3 id="groovy.groovy_home">groovy_home <a class="inline-link" href="#groovy.groovy_home">#</a></h3><p>This defines the value of <code>GROOVY_HOME</code> that Buck should use. If it is not provided, Buck will use the system's <code>GROOVY_HOME</code> by default.</p><pre class="prettyprint lang-ini">[groovy]
  groovy_home = /path/to/groovy_home</pre><h2 id="halide">[halide] <a class="inline-link" href="#halide">#</a></h2><p>This section configures the <a href="http://halide-lang.org/">Halide</a> platform mappings and toolchain.</p><h3 id="halide.target">target <a class="inline-link" href="#halide.target">#</a></h3><p>This defines the C++ platform flavor to Halide target mapping.  Each key should begin with the prefix <code>target_</code>, followed by the flavor name.  The corresponding value should be the Halide target string to use when building for that flavor.</p><pre class="prettyprint lang-ini">
[halide]
  target_iphonesimulator-x86_64 = x86-64-osx
  target_iphoneos-arm64         = arm-64-ios
</pre><h3 id="halide.xcode_compile_script">xcode_compile_script <a class="inline-link" href="#halide.xcode_compile_script">#</a></h3><p>The optional path to a shell script which should be used for invoking the Halide AOT "compiler" when building projects that include Halide targets in Xcode.</p><pre class="prettyprint lang-ini">[halide]
  xcode_compile_script = //path/to/script.sh</pre><h2 id="intellij">[intellij] <a class="inline-link" href="#intellij">#</a></h2><p>This section configures a project generated for IntelliJ IDEA by <code>buck project</code> command.</p><h3 id="intellij.java_library_sdk_names">java_library_sdk_names <a class="inline-link" href="#intellij.java_library_sdk_names">#</a></h3><p>SDK names which should be used in IntelliJ modules generated from <code>java_library</code> rules with non-default <code>source</code> option.</p><pre class="prettyprint lang-ini">[intellij]
  java_library_sdk_names = 1.6 =&gt; Java SDK 1.6, 1.8 =&gt; Java SDK 1.8</pre><h3 id="intellij.jdk_name">jdk_name <a class="inline-link" href="#intellij.jdk_name">#</a></h3><p>IntelliJ project SDK name.</p><pre class="prettyprint lang-ini">[intellij]
  jdk_name = Java SDK 1.6</pre><h3 id="intellij.jdk_type">jdk_type <a class="inline-link" href="#intellij.jdk_type">#</a></h3><p>IntelliJ project SDK type.</p><pre class="prettyprint lang-ini">[intellij]
  jdk_type = Android SDK or JavaSDK</pre><h3 id="intellij.android_module_sdk_type">android_module_sdk_type <a class="inline-link" href="#intellij.android_module_sdk_type">#</a></h3><p>Default Android SDK type for android modules.</p><pre class="prettyprint lang-ini">[intellij]
  android_module_sdk_type = Android SDK</pre><h3 id="intellij.android_module_sdk_name">android_module_sdk_name <a class="inline-link" href="#intellij.android_module_sdk_name">#</a></h3><p>Default Android SDK name for android modules.</p><pre class="prettyprint lang-ini">[intellij]
  android_module_sdk_name = Android API 23 Platform</pre><h3 id="intellij.java_module_sdk_type">java_module_sdk_type <a class="inline-link" href="#intellij.java_module_sdk_type">#</a></h3><p>SDK type for Java modules.</p><pre class="prettyprint lang-ini">[intellij]
  java_module_sdk_type = JavaSDK</pre><h3 id="intellij.java_module_sdk_name">java_module_sdk_name <a class="inline-link" href="#intellij.java_module_sdk_name">#</a></h3><p>SDK name for Java modules.</p><pre class="prettyprint lang-ini">[intellij]
  java_module_sdk_name = 1.8</pre><h3 id="intellij.generated_srcs_map">generated_srcs_map <a class="inline-link" href="#intellij.generated_srcs_map">#</a></h3><p>Allows adding folders with generated source code to IntelliJ project. These folders are added only if a module depends on a key target. In the example below, if module <code>//app/target</code> depends on <code>//path/to/target1</code>folder <code>buck-out/gen/app/lib/__lib_target1__</code> will be added to IntelliJ project.</p><pre class="prettyprint lang-ini">[intellij]
  generated_srcs_map = //path/to/target1 =&gt; __%name%_target1__, 
                       //path/to/target2 =&gt; __%name%_target2__</pre><h3 id="intellij.remove_unused_libraries">remove_unused_libraries <a class="inline-link" href="#intellij.remove_unused_libraries">#</a></h3><p>Removes unused libraries from .idea/libraries.</p><pre class="prettyprint lang-ini">[intellij]
  remove_unused_libraries = true</pre><h2 id="java">[java] <a class="inline-link" href="#java">#</a></h2><p>This section configures the Java toolchain.</p><h3 id="java.src_roots">src_roots <a class="inline-link" href="#java.src_roots">#</a></h3><p>The paths to roots of Java code (where a root contains a tree of Java folders where the folder structure mirrors the package structure).  This list of paths is comma-delimited.  Paths that start with a slash are relative to the root of the project, and all other paths can match a folder anywhere in the tree.  In the example below, we match all folders named <code>src</code>, and <code>java</code> and <code>javatests</code> at the root of the project.</p><pre class="prettyprint lang-ini">[java]
  src_roots = src, /java/, /javatests/</pre><h3 id="java.extra_arguments">extra_arguments <a class="inline-link" href="#java.extra_arguments">#</a></h3><p>A comma-delimited list of flags to pass the Java compiler.</p><pre class="prettyprint lang-ini">[java]
  extra_arguments = -g</pre><h3 id="java.source_level">source_level <a class="inline-link" href="#java.source_level">#</a></h3><p>The default version of Java for source files. Also defines the project language level in IntelliJ.</p><pre class="prettyprint lang-ini">[java]
  source_level = 7</pre><h3 id="java.target_level">target_level <a class="inline-link" href="#java.target_level">#</a></h3><p>The default version of Java for generated code.</p><pre class="prettyprint lang-ini">[java]
  target_level = 7</pre><h3 id="java.skip_checking_missing_deps">skip_checking_missing_deps <a class="inline-link" href="#java.skip_checking_missing_deps">#</a></h3><p>Buck will attempt to analyze build failures and suggest dependencies that might not be declared in order to fix the failure.  On large projects, this can be slow.  This setting disables the check.</p><pre class="prettyprint lang-ini">[java]
  skip_checking_missing_deps = false</pre><h3 id="java.jar_spool_mode">jar_spool_mode <a class="inline-link" href="#java.jar_spool_mode">#</a></h3><p>Specifies how the compiler output to the <code>.jar</code> file should be spooled.  The valid modes are:<ul><li><code>intermediate_to_disk</code> (default): writes the intermediate <code>.class</code> files from the compiler output to disk.  They are then packed into a <code>.jar</code>.</li><li><code>direct_to_jar</code>: compiler output will be directly written to a <code>.jar</code> file with the intermediate <code>.class</code> files held in memory.  The compiler output will still be written to disk if there are any postprocessing commands specified during the build.</li></ul></p><pre class="prettyprint lang-ini">[java]
  jar_spool_mode = intermediate_to_disk</pre><h3 id="java.dx_threads">dx_threads <a class="inline-link" href="#java.dx_threads">#</a></h3><p>The number of thread that will run the dexing steps. Since the dexing steps can use a lot of memory, it might be useful to set this to a lower value to avoid out-of-memory errors.</p><pre class="prettyprint lang-ini">[java]
  dx_threads = 8</pre><h2 id="httpserver">[httpserver] <a class="inline-link" href="#httpserver">#</a></h2><p>Option to enable an experimental web server that presents a UI to explore build data.  Note that Buck must be run as a daemon in order for the web server to be available.</p><h3 id="httpserver.port">port <a class="inline-link" href="#httpserver.port">#</a></h3><p>This sets the port to use for the web server.  There are three possible values:<ul><li><code>n > 0</code>: For any positive integer, Buck will attempt to make the server available on that port.</li><li><code>0</code>: Buck will find a free port for the server to use and print it out on the command line.</li><li><code>-1</code>: Explicitely disables the server.</li></ul></p><pre class="prettyprint lang-ini">[httpserver]
  port = 8080</pre><h2 id="log">[log] <a class="inline-link" href="#log">#</a></h2><p>This section controls how Buck will log information about builds for later inspection.</p><h3 id="log.max_traces">max_traces <a class="inline-link" href="#log.max_traces">#</a></h3><p>Sets the maximum number of <a href="/about/performance_tuning.html">Chrome Traces</a> that Buck will create.</p><pre class="prettyprint lang-ini">[log]
  max_traces = 25</pre><h3 id="log.compress_traces">compress_traces <a class="inline-link" href="#log.compress_traces">#</a></h3><p><code>true</code> if Buck should GZIP the traces, false otherwise.</p><pre class="prettyprint lang-ini">[log]
  compress_traces = true</pre><h3 id="log.machine_readable_logger_enabled">machine_readable_logger_enabled <a class="inline-link" href="#log.machine_readable_logger_enabled">#</a></h3><p><code>true</code> if Buck should output to a machine readable log file under name <code>buck-machine-log</code>. Log entries are formatted one per line like <code>< Event type >< space >< Json ></code>.</p><pre class="prettyprint lang-ini">[log]
  machine_readable_logger_enabled = true</pre><h2 id="lua">[lua] <a class="inline-link" href="#lua">#</a></h2><p>This section defines settings relevant to <code>lua_*</code> rules.</p><h3 id="lua.lua">lua <a class="inline-link" href="#lua.lua">#</a></h3><p>The path to the Lua interpreter.  By default, Buck will search for the binary <code>lua</code> in your <code>PATH</code>.</p><pre class="prettyprint lang-ini">[lua]
  lua = /usr/bin/lua</pre><h3 id="lua.cxx_library">cxx_library <a class="inline-link" href="#lua.cxx_library">#</a></h3><p>The build target of the Lua C library to use to link a standalone interpreter. By default, Buck will use <code>-llua</code> from the C/C++ linker's default library search path.</p><pre class="prettyprint lang-ini">[lua]
  cxx_library = //third-party/lua:lua</pre><h3 id="lua.starter_type">starter_type <a class="inline-link" href="#lua.starter_type">#</a></h3><p>The method for bootstrapping Lua binaries.  By default, <code>native</code> is chosen if the binary contains native libraries and <code>pure</code> is chosen otherwise.<ul><li><code>pure</code>: The binary bootstrap process uses pure Lua code.  This method cannot be used if the binary includes native code.</li><li><code>native</code>: The binary bootstrap process links in the Lua C library (specified in <a href="/concept/buckconfig.html#lua.cxx_library">lua.cxx_library</a>) to form a standalone native interpreter.</li></ul></p><pre class="prettyprint lang-ini">[lua]
  starter_type = pure</pre><h3 id="lua.native_starter_library">native_starter_library <a class="inline-link" href="#lua.native_starter_library">#</a></h3><p>A C/C++ library to use as a custom starter for Lua binaries which use the<code>NATIVE</code> bootstrap method.  The library is expected to define the following function:<pre class="prettyprint lang-cpp">
#ifdef __cplusplus
extern "C"
#endif
int run_starter(
    int argc,
    const char **argv,
    const char *main_module,
    const char *modules_dir,
    const char *extension_suffix);
</pre>Where the arguments are as follows:<ul><li><code>argc</code>: The number of command-line arguments.</li><li><code>argv</code>: The array of command-line arguments.</li><li><code>main_module</code>: The name of the binary's main module.</li><li><code>modules_dir</code>: The path, relative the binary, to the modules directory.</li><li><code>extension_suffix</code>: The suffix used for native libraries (e.g. <code>.so</code>).</li></ul></p><pre class="prettyprint lang-ini">[lua]
  native_starter_library = //third-party/lua:starter</pre><h3 id="lua.extension">extension <a class="inline-link" href="#lua.extension">#</a></h3><p>The extension to use for Lua binaries.  Defaults to <code>.lex</code>.</p><pre class="prettyprint lang-ini">[lua]
  extension = .lex</pre><h2 id="maven_repositories">[maven_repositories] <a class="inline-link" href="#maven_repositories">#</a></h2><p>This section defines the set of maven repositories that Buck can use when attempting to resolve maven artifacts.  It takes the form of key value pairs of a short name for the repo and the URL. The URL may either be an HTTP(S) URL, or point to a directory on your local disk.<pre class="prettyprint lang-ini">
[maven_repositories]
  central = https://repo1.maven.org/maven2
  m2 = ~/.m2/repository
</pre></p><p>Note that if you using Buck to talk to Maven and you are using IPv6, you might need to <a href="./buckjavaargs.html">add the following option to your <code>.buckjavaargs</code> file</a>:</p><pre>
-Djava.net.preferIPv6Addresses=true</pre><h2 id="ndk">[ndk] <a class="inline-link" href="#ndk">#</a></h2><p>This section defines properties to configure building native code against the Android NDK.</p><h3 id="ndk.ndk_version">ndk_version <a class="inline-link" href="#ndk.ndk_version">#</a></h3><p>The version of the NDK that Buck should use to build native code.  This is searched for in the subfolders defined by the folder found in the <code>ANDROID_NDK_REPOSITORY</code> environment variable.</p><pre class="prettyprint lang-ini">[ndk]
  ndk_version = r10c</pre><h3 id="ndk.app_platform">app_platform <a class="inline-link" href="#ndk.app_platform">#</a></h3><p>The android platform libraries that the code is targetting.  This is equivalent to the <code>APP_TARGET</code> in the NDK build system.  The default is <code>android-9</code>.</p><pre class="prettyprint lang-ini">[ndk]
  app_platform = android-21</pre><h3 id="ndk.cpu_abis">cpu_abis <a class="inline-link" href="#ndk.cpu_abis">#</a></h3><p>A comma separated list of the CPU ABIs that this repo supports.  Buck will only build NDK code for these ABIs.</p><pre class="prettyprint lang-ini">[ndk]
  cpu_abis = armv7, x86</pre><h3 id="ndk.compiler">compiler <a class="inline-link" href="#ndk.compiler">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the compiler family to use from the NDK.  The possible values are:<ul><li><code>gcc</code> (default): Use the GCC family of compilation tools.</li><li><code>clang</code>: Use the Clang family of compilation tools.</li></ul></p><pre class="prettyprint lang-ini">[ndk]
  compiler = gcc</pre><h3 id="ndk.gcc_version">gcc_version <a class="inline-link" href="#ndk.gcc_version">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the version of GCC to use.  This will be used regardless of the value in <a href="/concept/buckconfig.html#ndk.compiler">ndk.compiler</a>, as other compiler families still use tools from the GCC toolchain (such as <code>ar</code>).  The default value is <code>4.8</code>.</p><pre class="prettyprint lang-ini">[ndk]
  gcc_version = 4.8</pre><h3 id="ndk.clang_version">clang_version <a class="inline-link" href="#ndk.clang_version">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the version of Clang to use.  The default value is <code>3.4</code>.</p><pre class="prettyprint lang-ini">[ndk]
  clang_version = 3.4</pre><h3 id="ndk.cxx_runtime">cxx_runtime <a class="inline-link" href="#ndk.cxx_runtime">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the variant of the <a href="http://www.kandroid.org/ndk/docs/CPLUSPLUS-SUPPORT.html">C/C++ runtime</a> to use. Possible values are:<ul><li><code>gabixx</code></li><li><code>gnustl</code> (default)</li><li><code>libcxx</code></li><li><code>stlport</code></li><li><code>system</code></li></ul></p><pre class="prettyprint lang-ini">[ndk]
  cxx_runtime = gnustl</pre><h2 id="parser">[parser] <a class="inline-link" href="#parser">#</a></h2><p>This section defines settings for the BUCK parser.</p><h3 id="parser.python_interpreter">python_interpreter <a class="inline-link" href="#parser.python_interpreter">#</a></h3><p>The path to the python interpreter to use for parsing. If not specified, the <a href="/concept/buckconfig.html#python.interpreter">python.interpreter</a> setting is used.</p><pre class="prettyprint lang-ini">[parser]
  python_interpreter = /usr/bin/python</pre><h3 id="parser.python_path">python_path <a class="inline-link" href="#parser.python_path">#</a></h3><p>The <code>PYTHONPATH</code> environment variable set for the python interpreter used by the parser to use. By default, this is unset.</p><pre class="prettyprint lang-ini">[parser]
  python_path = /path1:/path2</pre><h2 id="project">[project] <a class="inline-link" href="#project">#</a></h2><p>This section defines project-level settings.</p><h3 id="project.ide">ide <a class="inline-link" href="#project.ide">#</a></h3><p>Buck attempts to figure out the correct IDE to use based on the type of rule (e.g. for <a href="/rule/apple_library.html"><code>apple_library</code></a> it will generate Xcode workspace), but for cross-platform libraries (like <a href="/rule/cxx_library.html"><code>cxx_library</code></a>) it is not possible.  This setting lets you specify the default IDE that <a href="/command/project.html"><code>buck project</code></a> generates.  Possible values are:<ul><li><code>intellij</code></li><li><code>xcode</code></li></ul></p><pre class="prettyprint lang-ini">[project]
  ide = xcode</pre><h3 id="project.default_android_manifest">default_android_manifest <a class="inline-link" href="#project.default_android_manifest">#</a></h3><p>The default manifest file that should be used when the <code>src_target</code> of a <a href="/rule/project_config.html"><code>project_config</code></a> rule is an Android rule (like <a href="/rule/android_library.html"><code>android_library</code></a>), but there is no <code>AndroidManifest.xml</code> file in the same directory as the <a href="/concept/build_file.html">build file</a> the <a href="/rule/project_config.html"><code>project_config</code></a> is defined in.  IDEs for Android projects need a manifest file, and this setting provides a convenient fallback without having boilerplate manifest files all over your project.</p><pre class="prettyprint lang-ini">[project]
  default_android_manifest = //shared/AndroidManifest.xml</pre><h3 id="project.glob_handler">glob_handler <a class="inline-link" href="#project.glob_handler">#</a></h3><p>The <a href="/function/glob.html"><code>glob()</code></a> handler that Buck will use.  The possible values are:<ul><li><code>python</code> (default): evaluates globs in the Python interpreter while parsing <a href="/concept/build_file.html">build file</a>s.</li><li><code>watchman</code>: evaluates the globs with <a href="https://facebook.github.io/watchman/">Watchman</a>, which is generally much faster.</li></ul></p><pre class="prettyprint lang-ini">[project]
  glob_handler = python</pre><h3 id="project.allow_symlinks">allow_symlinks <a class="inline-link" href="#project.allow_symlinks">#</a></h3><p><p>If set to <code>forbid</code>, Buck will disallow symbolic links to source and <code>BUCK</code> files. This allows Buck to enable a number of performance improvements.  If set to <code>allow</code>, Buck will silently ignore symlinks.</p><p>The default value is <code>allow</code>.</p></p><pre class="prettyprint lang-ini">[project]
  allow_symlinks = forbid</pre><h3 id="project.build_file_search_method">build_file_search_method <a class="inline-link" href="#project.build_file_search_method">#</a></h3><p><p>If set to <code>watchman</code>, Buck will try to use Watchman (if available) instead of Java filesystem crawls to improve the speed when searching for <code>BUCK</code> files. (This is used for commands like <code>buck project</code> and <code>buck build //path/to/...</code>.)</p><p>If set to <code>filesystem_crawl</code>, Buck will never try to use Watchman, and will always use Java filesystem crawls (which are much slower than Watchman.</p><p>If unset, Buck will try to use Watchman if <code>allow_symlinks</code> is set to <code>forbid</code>.</p></p><pre class="prettyprint lang-ini">[project]
  build_file_search_method = watchman</pre><h3 id="project.watchman_query_timeout_ms">watchman_query_timeout_ms <a class="inline-link" href="#project.watchman_query_timeout_ms">#</a></h3><p>When communicating with <a href="https://facebook.github.io/watchman/">Watchman</a>, Buck will wait this long for a response.  The defaut is <code>1000</code> ms.</p><pre class="prettyprint lang-ini">[project]
  watchman_query_timeout_ms = 1000</pre><h3 id="project.initial_targets">initial_targets <a class="inline-link" href="#project.initial_targets">#</a></h3><p>A space-separated list of <a href="/concept/build_target.html">build target</a>s to run when <a href="/command/project.html"><code>buck project</code></a> is executed.  This is often a list of <a href="/rule/genrule.html"><code>genrule</code></a>s whose outputs need to exist in order for an IDE to be ale to build a project without the help of Buck.</p><pre class="prettyprint lang-ini">[project]
  initial_targets = //java/com/facebook/schema:generate_thrift_jar</pre><h3 id="project.ignore">ignore <a class="inline-link" href="#project.ignore">#</a></h3><p>A comma-separated list of subtrees within the project root which are ignored in the following contexts:<ul><li>Buck daemon filesystem monitoring.</li><li>Filesystem traversal when searching for tests and BUCK files</li><li>IntelliJ project indexing</li></ul>Buck automatically excludes its own output, e.g. <code>buck-out</code>, <code>.buckd</code>, and <code>.idea</code>, as well as the cache directory (see <a href="/concept/buckconfig.html#cache.mode">cache.mode</a>), but it makes no assumptions about source control systems.</p><pre class="prettyprint lang-ini">[project]
  ignore = .git</pre><h3 id="project.temp_files">temp_files <a class="inline-link" href="#project.temp_files">#</a></h3><p>A comma-separated list of <code>java.util.regex.Pattern</code> regular expressions which match temporary and backup files which should be ignored by Buck daemon filesystem monitoring. Setting this property to match any temporary files created by your IDE or editor will avoid unnecessary cache invalidation when using the Buck daemon.</p><pre class="prettyprint lang-ini">[project]
  temp_files = ^#.*#$, .*~$, .*\.swp$</pre><h3 id="project.pre_process">pre_process <a class="inline-link" href="#project.pre_process">#</a></h3><p>A script that should be executed before the project files are generated. This should only be used to do some project-specific actions that are reasonably fast. The general advice is keep it free from any logic that modifies generated iml files.<p/>The environment of this script contains the following variables:<ul><code>BUCK_PROJECT_TARGETS</code> - whitespace-separated list of input targets.</ul></p><pre class="prettyprint lang-ini">[project]
  pre_process = scripts/pre_process_buck_project.py</pre><h3 id="project.parallel_parsing">parallel_parsing <a class="inline-link" href="#project.parallel_parsing">#</a></h3><p>When set to <code>true</code>, Buck will parse your <a href="/concept/build_file.html">build file</a>s in parallel.</p><pre class="prettyprint lang-ini">[project]
  parallel_parsing = false</pre><h3 id="project.parsing_threads">parsing_threads <a class="inline-link" href="#project.parsing_threads">#</a></h3><p>When <a href="/concept/buckconfig.html#project.parallel_parsing">project.parallel_parsing</a> is enabled, this specifies the number of threads Buck uses to parse.  By default, this is equal to the number of threads Buck uses to build, and will be the minimum of this setting and <a href="/concept/buckconfig.html#build.threads">build.threads</a>.</p><pre class="prettyprint lang-ini">[project]
  parsing_threads = 2</pre><h3 id="project.enable_build_file_sandboxing">enable_build_file_sandboxing <a class="inline-link" href="#project.enable_build_file_sandboxing">#</a></h3><p>When set to <code>true</code> (the default is <code>false</code>), Buck will put restrictions on importing arbitrary Python modules in <a href="/concept/build_file.html">build file</a>s to make it harder to accidentally violate assumptions about determinism of BUCK files and build rules. It will be possible to import only whitelisted or sanitized modules, unrestricted import behavior can be restored in a context by using<a href="/function/allow_unsafe_import.html"> <code>allow_unsafe_import()</code> </a>function.</p><pre class="prettyprint lang-ini">[project]
  enable_build_file_sandboxing = true</pre><h3 id="project.build_file_import_whitelist">build_file_import_whitelist <a class="inline-link" href="#project.build_file_import_whitelist">#</a></h3><p>A comma-separated list that configures which Python modules will be added to the build file import whitelist in this project when<a href="/concept/buckconfig.html#project.enable_build_file_sandboxing"> build file sandboxing </a>is enabled.</p><pre class="prettyprint lang-ini">[project]
  build_file_import_whitelist = math, Foo</pre><h2 id="python">[python] <a class="inline-link" href="#python">#</a></h2><p><p>This section may define settings relevant to <code>python_*</code> rules.</p><p>Adding a section with the header [python#<i>flavor</i>] to the .buckconfig will add an alternate python section.  This python section will be used instead of <code>[python]</code> if the compilation flavor is invoked by appending <i>#version</i> to a <a href="/concept/build_target.html">build target</a>.  This can be useful if you have Python 2 and Python 3 code in your project and need to differentiate accorindgly (namely by changing the value of <a href="/concept/buckconfig.html#python.interpreter">python.interpreter</a>.  On the command line, to build with <code>[python#py3]</code> rather than <code>[python]</code>:</p><pre class="prettyprint">
    $ buck build app#py3
    </pre></p><h3 id="python.interpreter">interpreter <a class="inline-link" href="#python.interpreter">#</a></h3><p>The path to the python interpreter to use.  By default, Buck will search for this in your <code>PATH</code>.</p><pre class="prettyprint lang-ini">[python]
  interpreter = /usr/bin/python</pre><h3 id="python.library">library <a class="inline-link" href="#python.library">#</a></h3><p>The <a href="/concept/build_rule.html">build rule</a>, typically a <a href="/rule/prebuilt_cxx_library.html"><code>prebuilt_cxx_library</code></a>, wrapping the <code>libpython.so</code> that <code>cpp_python_extension</code> rules should build against.</p><pre class="prettyprint lang-ini">[python]
  library = //third-party/python:python</pre><h3 id="python.path_to_pex_executor">path_to_pex_executor <a class="inline-link" href="#python.path_to_pex_executor">#</a></h3><p>The path to the tool used to run executable Python packages.  For self-executing packages, this should just by the shell.</p><pre class="prettyprint lang-ini">[python]
  path_to_pex_executor = /bin/sh</pre><h3 id="python.pex_extension">pex_extension <a class="inline-link" href="#python.pex_extension">#</a></h3><p>The extension to use for executable Python packages.</p><pre class="prettyprint lang-ini">[python]
  pex_extension = .pex</pre><h3 id="python.package_style">package_style <a class="inline-link" href="#python.package_style">#</a></h3><p>The packaging style to use for <a href="/rule/python_binary.html"><code>python_binary</code></a> and <a href="/rule/python_test.html"><code>python_test</code></a>.  Valid values are:<ul><li><code>inplace</code>: builds exectuables which are only able to run from within the repository.  This style of packaging is significantly faster than <code>standalone</code> packages.</li><li><code>standalone</code> (default): builds self-contained executable packages that can be run outside of the repository.</li></ul></p><pre class="prettyprint lang-ini">[python]
  package_style = standalone</pre><h3 id="python.native_link_strategy">native_link_strategy <a class="inline-link" href="#python.native_link_strategy">#</a></h3><p>The strategy used for pulling in native dependencies:<ul><li><code>merged</code>: Native dependencies which are first-order dependencies of <code>python_*</code> rules are linked as full, separate, shared libraries.  Transitive native dependencies are statically linked into a single monolithic shared library.  This is preferred to reduce the native code size and shared library count.</li><li><code>separate</code> (default): Transitive native dependencies are linked as full, separate, shared libraries.  This is prefererred for faster build-time speed.</li></ul></p><pre class="prettyprint lang-ini">[python]
  native_link_strategy = separate</pre><h2 id="resources">[resources] <a class="inline-link" href="#resources">#</a></h2><p>The settings to control how Buck uses resources to schedule the work. When resource-aware scheduler is enabled, Buck will create more threads in attempt to run resource-independent work in parallel. Number of build threads is still controlled by <code>num_threads</code> option. Buck will also create a number of additional threads that will be used for tasks that don't require CPU: network fetches, disk operations, etc. Total number of threads that Buck will operate is controlled by<code>managed_thread_count</code> option, that is, it includes build threads and additional threads.</p><h3 id="resources.resource_aware_scheduling_enabled">resource_aware_scheduling_enabled <a class="inline-link" href="#resources.resource_aware_scheduling_enabled">#</a></h3><p>When set to <code>true</code>, Buck will attempt to use resource-aware scheduler.</p><pre class="prettyprint lang-ini">[resources]
  resource_aware_scheduling_enabled = true</pre><h3 id="resources.managed_thread_count">managed_thread_count <a class="inline-link" href="#resources.managed_thread_count">#</a></h3><p>Buck will use <code>num_threads</code> threads for CPU intensive tasks (e.g. local building) and it will use <code>managed_thread_count - num_threads</code>for other purposes. Thus, <code>managed_thread_count</code> value must be greater or equal to  <code>num_threads</code> value. If you don't specify this value, Buck will create built-in number of additional threads which equals to the number of CPU cores on the machine. These additional threads will be used for non-CPU work like networking, disk I/O and etc. But if one of the <code>num_threads</code> threads is free then Buck will probably use it for non-CPU stuff as well.</p><pre class="prettyprint lang-ini">[resources]
  managed_thread_count = 40</pre><h3 id="resources.default_cpu_amount">default_cpu_amount <a class="inline-link" href="#resources.default_cpu_amount">#</a></h3><p>Amount of CPU resource required by arbitrary job which has no specific setting for its resource amounts. By default is 1 - a single CPU is required for the job to be completed.</p><pre class="prettyprint lang-ini">[resources]
  default_cpu_amount = 1</pre><h3 id="resources.default_memory_amount">default_memory_amount <a class="inline-link" href="#resources.default_memory_amount">#</a></h3><p>Amount of memory resource required by arbitrary job which has no specific setting for its resource amounts. By default is 1 - a single memory resource is required for the job to be completed. A single memory resource is an abstract value, currently it equals to 100 Mb.</p><pre class="prettyprint lang-ini">[resources]
  default_memory_amount = 1</pre><h3 id="resources.default_disk_io_amount">default_disk_io_amount <a class="inline-link" href="#resources.default_disk_io_amount">#</a></h3><p>Amount of disk I/O resource required by arbitrary job which has no specific setting for its resource amounts. A single disk resource is an abstract value. Think about it as like SSD can handle 50 parallel disk jobs with weight 1, while HDD can handle only 20. Thus, if job needs to read or write a lot of data, it is better to assign a higher value for its disk I/O amount. This will reduce the risk to have several similar jobs running concurrently and performing huge disk I/O operations, slowing down build itself and system performance.</p><pre class="prettyprint lang-ini">[resources]
  default_disk_io_amount = 1</pre><h3 id="resources.default_network_io_amount">default_network_io_amount <a class="inline-link" href="#resources.default_network_io_amount">#</a></h3><p>A single network resource is an abstract value. Think about it as Ethernet can handle 50 parallel network jobs with weight 1. Slower network interfaces can handle less amount of jobs. If job needs to send  or receive a lot of data, it is better to assign a higher value for its network I/O amount.</p><pre class="prettyprint lang-ini">[resources]
  default_network_io_amount = 1</pre><h3 id="resources.max_memory_resource">max_memory_resource <a class="inline-link" href="#resources.max_memory_resource">#</a></h3><p>Maximum memory resource available to Buck. By default is size of Java heap divided by 100 Mb. A single memory resource is an abstract value, currently it equals to 100 Mb.</p><pre class="prettyprint lang-ini">[resources]
  max_memory_resource = 30</pre><h3 id="resources.max_disk_io_resource">max_disk_io_resource <a class="inline-link" href="#resources.max_disk_io_resource">#</a></h3><p>Maximum disk I/O resource available to Buck. By default the value is 50. Think about it as like SSD can handle 50 parallel disk jobs with weight 1, while HDD can handle only 20. Thus, if job needs to read or write a lot of data, it should require higher disk I/O resource.</p><pre class="prettyprint lang-ini">[resources]
  max_disk_io_resource = 30</pre><h3 id="resources.max_network_io_resource">max_network_io_resource <a class="inline-link" href="#resources.max_network_io_resource">#</a></h3><p>Maximum disk I/O resource available to Buck. By default the value is 30. Think about it as Ethernet can handle 50 parallel network jobs with weight 1. Slower network interfaces can handle less amount of jobs. If job needs to send or receive a lot of data, it should require higher network I/O resource.</p><pre class="prettyprint lang-ini">[resources]
  max_network_io_resource = 30</pre><h2 id="resources_per_rule">[resources_per_rule] <a class="inline-link" href="#resources_per_rule">#</a></h2><p><p>This section contains required resource amounts for various build rules. If amount for some build rule is not specified in this section, then amount of 1 (CPU), 1 (Memory), 0 (disk i/o) and 0 (network i/o) is used. Amounts are used in local building, so in most cases build rule will require 0 for network I/O unless it fetches any data from network. Rule's name is constructed by converting the camel-style class name of the <code>BuildRule</code>in Buck's source code (e.g. <code>MyBuildRule</code>) into lower underscored name (e.g. <code>my_build_rule</code>).</p><pre class="prettyprint lang-ini">
[resources_per_rule]
  cxx_link = 1, 1, 5, 0
  android_binary = 8, 30, 30, 0
     </pre><p>Buck will use the defined resource amounts during the build process in order to attempt to use all available resources.</p></p><h2 id="rust">[rust] <a class="inline-link" href="#rust">#</a></h2><p>The settings to control how Buck builds <code>rust_*</code> rules.</p><h3 id="rust.compiler">compiler <a class="inline-link" href="#rust.compiler">#</a></h3><p>The path that Buck should use to compile Rust files.  By default, it checks your <code>PATH</code>.</p><pre class="prettyprint lang-ini">[rust]
  compiler = /usr/local/bin/rustc</pre><h3 id="rust.rustc_flags">rustc_flags <a class="inline-link" href="#rust.rustc_flags">#</a></h3><p>Default command-line flags passed to all invocations of the rust compiler.</p><pre class="prettyprint lang-ini">[rust]
  rustc_flags = -g</pre><h3 id="rust.rustc_binary_flags">rustc_binary_flags <a class="inline-link" href="#rust.rustc_binary_flags">#</a></h3><p>Default command-line flags passed to invocations of the rust compiler in <code>rust_binary</code> rules, in addition to options set in <code>rustc_flags</code>.</p><pre class="prettyprint lang-ini">[rust]
  rustc_binary_flags = -C lto</pre><h3 id="rust.rustc_library_flags">rustc_library_flags <a class="inline-link" href="#rust.rustc_library_flags">#</a></h3><p>Default command-line flags passed to invocations of the rust compiler in <code>rust_library</code> rules, in addition to options set in <code>rustc_flags</code>.</p><pre class="prettyprint lang-ini">[rust]
  rustc_library_flags = --cfg=debug</pre><h2 id="test">[test] <a class="inline-link" href="#test">#</a></h2><p>The settings to control how Buck runs tests.</p><h3 id="test.incl_no_location_classes">incl_no_location_classes <a class="inline-link" href="#test.incl_no_location_classes">#</a></h3><p>This specifies whether jacoco code coverage is enabled on classes without source location. The default is false.  Set to true to enable code coverage with robolectric tests. Note that setting to true will include dynamically created sources in code coverage, such as that created by mocking (e.g. jmockit) or persistence frameworks.</p><pre class="prettyprint lang-ini">[test]
  incl_no_location_classes = true</pre><h3 id="test.timeout">timeout <a class="inline-link" href="#test.timeout">#</a></h3><p>The number of miliseconds per test to allow before stopping the test and reporting a failure. The default is no timeout.  Not all <code>*_test</code> rules utilize this value.  A JUnit test can override this via the <code>@Test</code> annotation.</p><pre class="prettyprint lang-ini">[test]
  timeout = 300000</pre><h3 id="test.rule_timeout">rule_timeout <a class="inline-link" href="#test.rule_timeout">#</a></h3><p>The number of milliseconds per <code>*_test</code> rule to allow before stopping it and reporting a failure.  The default is no timeout.</p><pre class="prettyprint lang-ini">[test]
  rule_timeout = 1200000</pre><h3 id="test.external_runner">external_runner <a class="inline-link" href="#test.external_runner">#</a></h3><p><p>This specifies an external test runner comamnd to use instead of Buck's built-in test runner. The external test runner is invoked by Buck after it has built all the test rules.  It passes the test runner the path to a file which contains a JSON-encoded list of test file infos via the <code>--buck-test-info [path]</code> command line option.</p><p>Additionally, if <a href="/command/test.html"><code>buck test</code></a> is invoked with <code>-- [extra-runner-args]</code>, these will be passed to the external runner before <code>--buck-test-info</code>.</p><p>The JSON-encoded test file contains an array of infos.  Those infos have the following fields:<ul><li><code>target</code>: The <a href="/concept/build_target.html">build target</a> of the test rule.</li><li><code>type</code>: A string describing the type of the test.</li><li><code>command</code>: An array of command line arguemtns the test runner should invoke to run the test.</li><li><code>env</code>: A map of environments variables that should be defined by the test runner when running the test.</li><li><code>labels</code>: An array of labels that are defined on the test rule.</li><li><code>contacts</code>: An array of contacts that are defined on the test rule.  These are typically user names or email addresses.</li></ul></p></p><pre class="prettyprint lang-ini">[test]
  external_runner = command args...</pre><h2 id="thrift">[thrift] <a class="inline-link" href="#thrift">#</a></h2><p>This section provides settings to locate required thrift components.</p><h3 id="thrift.compiler">compiler <a class="inline-link" href="#thrift.compiler">#</a></h3><p>The path or <a href="/concept/build_target.html">build target</a> that builds the <a href="https://thrift.apache.org">thrift</a> compiler that Buck should use.</p><pre class="prettyprint lang-ini">[thrift]
  compiler = /usr/local/bin/thrift</pre><h3 id="thrift.compiler2">compiler2 <a class="inline-link" href="#thrift.compiler2">#</a></h3><p>The path or <a href="/concept/build_target.html">build target</a> that builds the <a href="https://github.com/facebook/fbthrift">thrift2</a> compiler that Buck should use.  If this is unset, it defaults to the value of <a href="/concept/buckconfig.html#thrift.compiler">thrift.compiler</a>.</p><pre class="prettyprint lang-ini">[thrift]
  compiler2 = /usr/local/bin/thrift2</pre><h2 id="tools">[tools] <a class="inline-link" href="#tools">#</a></h2><p>This section tells Buck how to find certain tools e.g. how the Java compilation occurs and how auxiliary tools are used e.g. the <a href="http://proguard.sourceforge.net/">ProGuard</a> Java class file optimizer which is used as part of the Android build process.</p><h3 id="tools.javac">javac <a class="inline-link" href="#tools.javac">#</a></h3><p>The <code>javac</code> option is a path to a program that acts like Java javac. When set, buck uses this program instead of the system Java compiler. When neither this nor <a href="/concept/buckconfig.html#tools.java_jar">tools.java_jar</a> is set, Buck defaults to using the system compiler in-memory.</p><h3 id="tools.javac_jar">javac_jar <a class="inline-link" href="#tools.javac_jar">#</a></h3><p>When this option is set to a JAR file, Buck loads the referenced compiler in-memory. When neither this nor <a href="/concept/buckconfig.html#tools.javac">tools.javac</a> is set, Buck defaults to using the system compiler in-memory.</p><h3 id="tools.compiler_class_name">compiler_class_name <a class="inline-link" href="#tools.compiler_class_name">#</a></h3><p>When javac_jar is set, Buck loads the referenced compiler class name from the jar. When it is not set but javac_jar is set, Buck uses the default compiler class.</p><h3 id="tools.proguard">proguard <a class="inline-link" href="#tools.proguard">#</a></h3><p>This option specifies the location of the JAR file to be used to invoke ProGuard. This overrides the default ProGuard JAR file that would have been picked up from the Android SDK. Here is an example setting:</p><pre class="prettyprint lang-ini">[tools]
  proguard = proguard/proguard-fork.jar</pre><h3 id="tools.proguard-max-heap-size">proguard-max-heap-size <a class="inline-link" href="#tools.proguard-max-heap-size">#</a></h3><p>This option specifies how much memory is used when running proguard. Defaults to <code>1024M</code>. You may want to give ProGuard more memory to try and improve performance.</p><pre class="prettyprint lang-ini">[tools]
  proguard-max-heap-size = 4096M</pre><h3 id="tools.proguard-agentpath">proguard-agentpath <a class="inline-link" href="#tools.proguard-agentpath">#</a></h3><p>This option allows the specification of a Java profiling agent which is set with the <code>-agentpath</code> argument when the ProGuard jar file is executed. Typically this would be set in a <code>.buckconfig.local</code> configuration file for when you want to profile a build running on your local machine. Set this to the actual path of the installed agent on the machine where ProGuard will run.</p><pre class="prettyprint lang-ini">[tools]
  proguard-agentpath = /Applications/YourKit_Java_Profiler_2015_build_15084.app/Contents/Resources/bin/mac/libyjpagent.jnilib</pre><h2 id="ui">[ui] <a class="inline-link" href="#ui">#</a></h2><p>This section configures the appearance of Buck's command line interface.</p><h3 id="ui.always_sort_threads_by_time">always_sort_threads_by_time <a class="inline-link" href="#ui.always_sort_threads_by_time">#</a></h3><p>Specifies whether the lines with information about building and testing threads should always be sorted by the time spent running the rules they are currently executing. When set to false, threads are only sorted if there are more threads than available lines (see <a href="/concept/buckconfig.html#ui.thread_line_limit">ui.thread_line_limit</a> for an option to configure this limit). Only effective when the super console is used. The default value is false.</p><pre class="prettyprint lang-ini">[ui]
  always_sort_threads_by_time = true</pre><h3 id="ui.thread_line_limit">thread_line_limit <a class="inline-link" href="#ui.thread_line_limit">#</a></h3><p>Specifies how many lines will be used to show the status of running threads during building and testing by default. Only effective when the super console is used. The value has to be a positive number. The default value is 10.</p><pre class="prettyprint lang-ini">[ui]
  thread_line_limit = 10</pre><h3 id="ui.thread_line_limit_on_warning">thread_line_limit_on_warning <a class="inline-link" href="#ui.thread_line_limit_on_warning">#</a></h3><p>Specifies how many lines will be used to show the status of running threads during building and testing after a warning is reported. Only effective when the super console is used. The value has to be a positive number. Defaults to the value of <a href="/concept/buckconfig.html#ui.thread_line_limit">ui.thread_line_limit</a>.</p><pre class="prettyprint lang-ini">[ui]
  thread_line_limit_on_warning = 10</pre><h3 id="ui.thread_line_limit_on_error">thread_line_limit_on_error <a class="inline-link" href="#ui.thread_line_limit_on_error">#</a></h3><p>Specifies how many lines will be used to show the status of running threads during building and testing after an error is reported. Only effective when the super console is used. The value has to be a positive number. Defaults to the value of <a href="/concept/buckconfig.html#ui.thread_line_limit">ui.thread_line_limit</a>.</p><pre class="prettyprint lang-ini">[ui]
  thread_line_limit_on_error = 10</pre><h3 id="unknown_flavors_messages.unknown_flavors_messages">unknown_flavors_messages <a class="inline-link" href="#unknown_flavors_messages.unknown_flavors_messages">#</a></h3><p>Specify messages for flavors. The message is used in case of an error with the flavors and it can be used to help debugging or provide suggestions for a fix. The name is a common Java Regex pattern like <code>android-*</code> and the value is the message that will be shown. Messages in <code>.buckconfig</code> have priority over Buck's defaults and suggestions will be shown for all the matches.<pre class="prettyprint lang-ini">[unknown_flavors_messages]
  android-* = Make sure you have Android SDK & NDK installed and set up.</pre></p><h2 id="worker">[worker] <a class="inline-link" href="#worker">#</a></h2><p>This section configures how Buck's workers (<code>worker_tool</code>s and similar) work.</p><h3 id="worker.persistent">persistent <a class="inline-link" href="#worker.persistent">#</a></h3><p>Specifies whether by default workers run in persistent mode (reusing the worker process across builds). The <code>persistent</code> option of <code>worker_tool</code> overrides this default. The default value is false. Be careful when switching this to true since the workers will not shut down after buck commands and will continue consuming system resources.</p><pre class="prettyprint lang-ini">[worker]
  persistent = false</pre></div></article><nav><h3>Getting Started</h3><ul><li class=""><a href="/about/overview.html">Overview</a></li><li class=""><a href="/setup/install.html">Downloading and Installing Buck</a></li><li class=""><a href="/setup/intellij_plugin_install.html">Installing the IntelliJ Plugin</a></li><li class=""><a href="/setup/getting_started.html">Getting Started</a></li><li class=""><a href="/article/exopackage.html">Exopackage</a></li><li class=""><a href="/article/query_cheat_sheet.html">Buck Query Cheat Sheet</a></li></ul><h3>About</h3><ul><li class=""><a href="/concept/what_makes_buck_so_fast.html">What Makes Buck so Fast?</a></li><li class=""><a href="/concept/troubleshooting.html">Troubleshooting</a></li><li class=""><a href="/about/performance_tuning.html">Performance Tuning</a></li><li class=""><a href="/concept/faq.html">FAQ</a></li><li class=""><a href="/presentations/index.html">Learn More (Buck Presentations)</a></li></ul><h3>Concepts</h3><ul><li class=""><a href="/concept/build_rule.html">Build Rule</a></li><li class=""><a href="/concept/build_target.html">Build Target</a></li><li class=""><a href="/concept/build_file.html">Build File</a></li><li class=""><a href="/concept/buckversion.html">.buckversion</a></li><li class=""><a href="/concept/nobuckcheck.html">.nobuckcheck</a></li><li class=""><a href="/concept/buckjavaargs.html">.buckjavaargs</a></li><li class="navActiveItem"><a href="/concept/buckconfig.html">.buckconfig</a></li><li class=""><a href="/concept/build_target_pattern.html">Build Target Pattern</a></li><li class=""><a href="/concept/visibility.html">Visibility</a></li><li class=""><a href="/concept/http_cache_api.html">HTTP Cache API</a></li><li class=""><a href="/concept/rule_keys.html">Rule Keys</a></li></ul><h3>Build Rules</h3><ul><li><strong>Core</strong></li><li class=""><a href="/rule/export_file.html">export_file()</a></li><li class=""><a href="/rule/genrule.html">genrule()</a></li><li class=""><a href="/rule/remote_file.html">remote_file()</a></li><li class=""><a href="/rule/worker_tool.html">worker_tool()</a></li><li class=""><a href="/rule/zip_file.html">zip_file()</a></li><li><strong>Android</strong></li><li class=""><a href="/rule/android_aar.html">android_aar()</a></li><li class=""><a href="/rule/android_binary.html">android_binary()</a></li><li class=""><a href="/rule/android_build_config.html">android_build_config()</a></li><li class=""><a href="/rule/android_instrumentation_apk.html">android_instrumentation_apk()</a></li><li class=""><a href="/rule/android_instrumentation_test.html">android_instrumentation_test()</a></li><li class=""><a href="/rule/android_library.html">android_library()</a></li><li class=""><a href="/rule/android_manifest.html">android_manifest()</a></li><li class=""><a href="/rule/android_prebuilt_aar.html">android_prebuilt_aar()</a></li><li class=""><a href="/rule/android_resource.html">android_resource()</a></li><li class=""><a href="/rule/apk_genrule.html">apk_genrule()</a></li><li class=""><a href="/rule/gen_aidl.html">gen_aidl()</a></li><li class=""><a href="/rule/keystore.html">keystore()</a></li><li class=""><a href="/rule/ndk_library.html">ndk_library()</a></li><li class=""><a href="/rule/prebuilt_jar.html">prebuilt_jar()</a></li><li class=""><a href="/rule/prebuilt_native_library.html">prebuilt_native_library()</a></li><li class=""><a href="/rule/project_config.html">project_config()</a></li><li><strong>CXX</strong></li><li class=""><a href="/rule/cxx_binary.html">cxx_binary()</a></li><li class=""><a href="/rule/cxx_library.html">cxx_library()</a></li><li class=""><a href="/rule/cxx_precompiled_header.html">cxx_precompiled_header()</a></li><li class=""><a href="/rule/cxx_test.html">cxx_test()</a></li><li class=""><a href="/rule/prebuilt_cxx_library.html">prebuilt_cxx_library()</a></li><li class=""><a href="/rule/prebuilt_cxx_library_group.html">prebuilt_cxx_library_group()</a></li><li><strong>D</strong></li><li class=""><a href="/rule/d_binary.html">d_binary()</a></li><li class=""><a href="/rule/d_library.html">d_library()</a></li><li class=""><a href="/rule/d_test.html">d_test()</a></li><li><strong>Go</strong></li><li class=""><a href="/rule/go_binary.html">go_binary()</a></li><li class=""><a href="/rule/go_library.html">go_library()</a></li><li class=""><a href="/rule/go_test.html">go_test()</a></li><li><strong>Groovy</strong></li><li class=""><a href="/rule/groovy_library.html">groovy_library()</a></li><li><strong>Halide</strong></li><li class=""><a href="/rule/halide_library.html">halide_library()</a></li><li><strong>Haskell</strong></li><li class=""><a href="/rule/haskell_binary.html">haskell_binary()</a></li><li class=""><a href="/rule/haskell_library.html">haskell_library()</a></li><li class=""><a href="/rule/prebuilt_haskell_library.html">prebuilt_haskell_library()</a></li><li><strong>iOS</strong></li><li class=""><a href="/rule/apple_asset_catalog.html">apple_asset_catalog()</a></li><li class=""><a href="/rule/apple_binary.html">apple_binary()</a></li><li class=""><a href="/rule/apple_bundle.html">apple_bundle()</a></li><li class=""><a href="/rule/apple_library.html">apple_library()</a></li><li class=""><a href="/rule/apple_package.html">apple_package()</a></li><li class=""><a href="/rule/apple_resource.html">apple_resource()</a></li><li class=""><a href="/rule/apple_test.html">apple_test()</a></li><li class=""><a href="/rule/core_data_model.html">core_data_model()</a></li><li><strong>Java</strong></li><li class=""><a href="/rule/java_binary.html">java_binary()</a></li><li class=""><a href="/rule/java_library.html">java_library()</a></li><li class=""><a href="/rule/java_test.html">java_test()</a></li><li class=""><a href="/rule/prebuilt_jar.html">prebuilt_jar()</a></li><li class=""><a href="/rule/prebuilt_native_library.html">prebuilt_native_library()</a></li><li><strong>Lua</strong></li><li class=""><a href="/rule/cxx_lua_extension.html">cxx_lua_extension()</a></li><li class=""><a href="/rule/lua_binary.html">lua_binary()</a></li><li class=""><a href="/rule/lua_library.html">lua_library()</a></li><li><strong>Python</strong></li><li class=""><a href="/rule/prebuilt_python_library.html">prebuilt_python_library()</a></li><li class=""><a href="/rule/python_binary.html">python_binary()</a></li><li class=""><a href="/rule/python_library.html">python_library()</a></li><li class=""><a href="/rule/python_test.html">python_test()</a></li><li><strong>Rust</strong></li><li class=""><a href="/rule/rust_binary.html">rust_binary()</a></li><li class=""><a href="/rule/rust_library.html">rust_library()</a></li><li class=""><a href="/rule/rust_test.html">rust_test()</a></li><li class=""><a href="/rule/prebuilt_rust_library.html">prebuilt_rust_library()</a></li><li><strong>.Net</strong></li><li class=""><a href="/rule/csharp_library.html">csharp_library()</a></li><li class=""><a href="/rule/prebuilt_dotnet_library.html">prebuilt_dotnet_library()</a></li></ul><h3>Functions</h3><ul><li class=""><a href="/function/add_build_file_dep.html">add_build_file_dep()</a></li><li class=""><a href="/function/allow_unsafe_import.html">allow_unsafe_import()</a></li><li class=""><a href="/function/flatten_dicts.html">flatten_dicts()</a></li><li class=""><a href="/function/glob.html">glob()</a></li><li class=""><a href="/function/include_defs.html">include_defs()</a></li><li class=""><a href="/function/read_config.html">read_config()</a></li><li class=""><a href="/function/subdir_glob.html">subdir_glob()</a></li><li class=""><a href="/function/string_parameter_macros.html">String Parameter Macros</a></li></ul><h3>Commands</h3><ul><li class=""><a href="/command/common_parameters.html">Common Parameters</a></li><li class=""><a href="/command/audit.html">buck audit</a></li><li class=""><a href="/command/autodeps.html">buck autodeps</a></li><li class=""><a href="/command/build.html">buck build</a></li><li class=""><a href="/command/clean.html">buck clean</a></li><li class=""><a href="/command/doctor.html">buck doctor</a></li><li class=""><a href="/command/fetch.html">buck fetch</a></li><li class=""><a href="/command/install.html">buck install</a></li><li class=""><a href="/command/project.html">buck project</a></li><li class=""><a href="/command/query.html">buck query</a></li><li class=""><a href="/command/run.html">buck run</a></li><li class=""><a href="/command/root.html">buck root</a></li><li class=""><a href="/command/server.html">buck server</a></li><li class=""><a href="/command/suggest.html">buck suggest</a></li><li class=""><a href="/command/targets.html">buck targets</a></li><li class=""><a href="/command/test.html">buck test</a></li><li class=""><a href="/command/uninstall.html">buck uninstall</a></li><li class=""><a href="/command/buckd.html">buckd</a></li></ul><h3>Extending Buck</h3><ul><li class=""><a href="/extending/macros.html">Custom Macros</a></li><li class=""><a href="/extending/rules.html">Custom Rules</a></li></ul></nav></div></section><footer><div class='width'>&copy; Copyright Facebook, 2013 -</div></footer><!-- Algolia Search Code --><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
docsearch({
  apiKey: 'c25b7174e8f6161ce5fdd44bb0b95081',
  indexName: 'buckbuild',
  inputSelector: '#algolia-doc-search',
  debug: false // Set debug to true if you want to inspect the dropdown
});
</script><!-- End Algolia Search Code --><script src="/google-code-prettify/prettify.js"></script><script>prettyPrint()</script></body></html>